import{A as y}from"./AdminLayout-b0f32dd7.js";import{_ as g,T as v,r as _,o as c,c as a,a as f,d as w,e as k,b as e,F as p,h as D,f as A,t as l,w as h,v as N,q as V,j as C}from"./app-a0f2337f.js";const L={props:{products:Object,flash:Object},methods:{discountPrice(r,s){this.form.discount_price[s]=r-r*(this.form.discount[s]/100)},updateDiscount(){this.form.put(route("products.update-discount"))}},setup(r){const s=v({product_id:[],discount_price:[],discount:[],is_discount:[]});return r.products.forEach((o,t)=>{s.product_id[t]=o.id,s.discount_price[t]=o.discount_price??o.price,s.discount[t]=o.discount??0,s.is_discount[t]=!!o.is_discount}),{form:s}},layout:y},I={class:"w-3/4 mx-auto pt-6 pb-12"},S=e("div",{class:"text-xl font-semibold mb-6"},"Atur Diskon",-1),B={class:"bg-white shadow-sm rounded-sm mb-6"},O={class:"w-full"},R=e("thead",{class:"border-b-2 border-gray-100"},[e("tr",{class:"text-left text-xs font-semibold"},[e("td",{class:"py-4 px-6"},"DETAIL PRODUK"),e("td",{class:"py-4 px-6"},"HARGA"),e("td",{class:"py-4 px-6"},"HARGA DISKON"),e("td",{class:"py-4 px-6"},"DISKON"),e("td",{class:"py-4 px-6"},"AKTIF")])],-1),T={class:"text-sm divide-y"},U={class:"py-4 px-6"},j={class:"flex gap-4"},H=["src"],K={class:"font-medium line-clamp-2"},E={class:"py-4 px-6"},F={class:"py-4 px-6"},P={key:0},G={key:1},M={class:"py-4 px-6"},q={class:"flex items-center border border-gray-200 bg-gray-100 rounded-md overflow-hidden w-28"},z=e("div",{class:"text-sm text-gray-500 font-semibold px-3"},"%",-1),J=["onUpdate:modelValue","onChange"],Q={class:"py-4 px-6"},W={class:"relative inline-flex items-center cursor-pointer"},X=["onUpdate:modelValue","disabled"],Y=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600 peer-disabled:cursor-not-allowed"},null,-1),Z={class:"flex justify-end gap-3 text-sm font-medium"};function $(r,s,o,t,ee,u){const m=_("Head"),b=_("Notif"),x=_("Link");return c(),a(p,null,[f(m,{title:"Atur Diskon"}),o.flash.error||o.flash.success?(c(),w(b,{key:0,flash:o.flash},null,8,["flash"])):k("",!0),e("div",I,[S,e("div",B,[e("table",O,[R,e("tbody",T,[(c(!0),a(p,null,D(o.products,(n,d)=>(c(),a("tr",null,[e("td",U,[e("div",j,[e("img",{src:n.main_photos[0].url,class:"border rounded p-1 w-16 h-16"},null,8,H),e("div",null,[e("div",K,l(n.name),1),e("div",null,l(n.category.name),1)])])]),e("td",E,"Rp"+l(n.price.toLocaleString("id-ID")),1),e("td",F,[t.form.discount[d]>0?(c(),a("div",P,"Rp"+l(t.form.discount_price[d].toLocaleString("id-ID")),1)):(c(),a("div",G,"-"))]),e("td",M,[e("div",q,[z,h(e("input",{type:"number",class:"text-sm border-0 focus:ring-0 w-full","onUpdate:modelValue":i=>t.form.discount[d]=i,onChange:i=>u.discountPrice(n.price,d)},null,40,J),[[N,t.form.discount[d]]])])]),e("td",Q,[e("label",W,[h(e("input",{type:"checkbox",class:"sr-only peer","onUpdate:modelValue":i=>t.form.is_discount[d]=i,disabled:!t.form.discount[d]},null,8,X),[[V,t.form.is_discount[d]]]),Y])])]))),256))])])]),e("div",Z,[e("div",null,[f(x,{href:r.route("products.index"),class:"block border bg-white py-2 px-10 rounded"},{default:A(()=>[C(" Batal ")]),_:1},8,["href"])]),e("div",null,[e("button",{type:"button",onClick:s[0]||(s[0]=(...n)=>u.updateDiscount&&u.updateDiscount(...n)),class:"bg-lime-600 hover:bg-lime-700 text-white py-2 px-10 rounded"}," Simpan ")])])])],64)}const oe=g(L,[["render",$]]);export{oe as default};
