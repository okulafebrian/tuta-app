import{U as y}from"./UserLayout-acce20e2.js";import k from"./Create-b292c5bc.js";import O from"./List-14ef88d1.js";import{_ as C,T as w,r as m,o as n,c as a,a as _,b as e,t as s,n as p,g as h,k as f,F as u,f as I,e as L}from"./app-a798eb3e.js";import{r as P}from"./ChevronRightIcon-69a34e15.js";import"./transition-6367855b.js";import"./focus-management-2fce0f0b.js";import"./micro-task-84f21bb7.js";import"./use-outside-click-e3d89dfb.js";import"./CheckCircleIcon-b26d9947.js";import"./XMarkIcon-8c8ee21b.js";import"./XMarkIcon-0e49dc25.js";const M={data(){return{listIsOpen:!1,createIsOpen:!1,address:this.mainAddress}},props:{carts:Object,totalPrice:Number,addresses:Object,mainAddress:Object,provinces:Object},components:{AddressCreate:k,AddressList:O,ChevronRightIcon:P},methods:{openListModal(){this.listIsOpen=!0},closeListModal(d){this.listIsOpen=!1,this.address=d,this.form.address_id=d.id,this.updatePayment(d)},openCreateModal(){this.createIsOpen=!0,this.listIsOpen=!1},closeCreateModal(){this.createIsOpen=!1,this.listIsOpen=!0},createOrder(){this.form.post(route("orders.store"))},async updatePayment(d){const i=await axios.get(route("shipping.fee",d)),r=JSON.parse(i.data.content),o=parseInt(r[0].cost,10);this.form.shipping_fee=o,this.form.total_payment=o+this.totalPrice}},mounted:async function(){await this.updatePayment(this.mainAddress)},setup(d){return{form:w({payment_method:"",address_id:d.mainAddress.id,total_price:d.totalPrice,shipping_fee:"",total_payment:""})}},layout:y},R={class:"lg:px-20 pt-4 xl:pt-10 pb-24"},j=e("div",{class:"px-4 xl:px-0 text-3xl font-semibold mb-2 xl:mb-10"}," Checkout ",-1),A={class:"flex flex-col xl:flex-row xl:gap-10"},D={class:"flex-grow divide-y xl:divide-y-0"},S={id:"address",class:"px-4 xl:px-0 py-6 xl:pt-0"},B=e("div",{class:"font-medium text-lg mb-2"},"Alamat Pengiriman",-1),T={key:0,class:"text-sm"},N={class:"font-semibold text-base line-clamp-1"},V={class:"text-slate-600"},z={class:"text-slate-600 line-clamp-1"},H={key:1,class:"font-medium text-gray-400"},U={type:"button",class:"text-slate-400"},F={id:"paymentMethod",class:"px-4 xl:px-0 py-6"},K=e("div",{class:"font-medium text-lg mb-2"},"Metode Pembayaran",-1),q={class:"space-y-2"},E=e("div",{class:"font-medium"},"Pembayaran non-tunai",-1),J=e("div",{class:"font-medium"},"COD (Bayar di Tempat)",-1),G={class:"px-4 xl:px-0 py-6"},Q=e("div",{class:"font-medium text-lg mb-2"},"Detail Pembelian",-1),W={class:"space-y-4"},X={class:"flex gap-4"},Y=["src"],Z={class:"flex-1 text-sm space-y-1"},$={class:"line-clamp-1 font-semibold"},ee={class:"text-sm text-zinc-600"},te={class:"text-sm"},se={key:0,class:"space-x-2"},oe={class:"text-zinc-400 line-through"},ie={key:1},de={class:"block xl:hidden px-4 py-6"},le=e("div",{class:"font-semibold mb-4"},"Ringkasan Pembayaran",-1),ne={class:"space-y-2 text-gray-600 my-4"},ae={class:"flex justify-between"},re=e("div",null,"Total Harga",-1),ce={class:"flex justify-between"},me=e("div",null,"Total Ongkos Kirim",-1),_e={class:"border-t py-4 mb-4 flex justify-between text-lg font-semibold"},pe=e("div",null,"Total Belanja",-1),he={class:"hidden xl:block w-2/5"},fe={class:"border rounded-xl p-6"},ue=e("div",{class:"text-lg font-semibold mb-4"},"Ringkasan Pembayaran",-1),be={class:"space-y-2 text-gray-500 my-4"},ge={class:"flex justify-between"},ve=e("div",null,"Total Harga",-1),xe={class:"flex justify-between"},ye=e("div",null,"Total Ongkos Kirim",-1),ke={class:"border-t py-4 mb-4 flex justify-between text-lg font-semibold"},Oe=e("div",null,"Total Belanja",-1),Ce=["disabled"];function we(d,i,r,o,c,l){const b=m("Head"),g=m("AddressCreate"),v=m("AddressList"),x=m("ChevronRightIcon");return n(),a(u,null,[_(b,{title:"Checkout"}),_(g,{isOpen:c.createIsOpen,onCloseModal:l.closeCreateModal,provinces:r.provinces},null,8,["isOpen","onCloseModal","provinces"]),_(v,{isOpen:c.listIsOpen,onCloseModal:l.closeListModal,onAddAddress:l.openCreateModal,addresses:r.addresses},null,8,["isOpen","onCloseModal","onAddAddress","addresses"]),e("div",R,[j,e("div",A,[e("div",D,[e("div",S,[B,e("div",{class:"flex justify-between items-center bg-slate-100 hover:bg-slate-200/60 p-4 rounded-xl",onClick:i[0]||(i[0]=(...t)=>l.openListModal&&l.openListModal(...t))},[c.address?(n(),a("div",T,[e("div",N,s(c.address.name),1),e("div",V,s(c.address.phone),1),e("div",z,s(c.address.detail),1)])):(n(),a("div",H," Belum ada alamat terpilih ")),e("div",null,[e("button",U,[_(x,{class:"w-4 h-4",style:{"stroke-width":"3"}})])])])]),e("div",F,[K,e("div",q,[e("label",{for:"cashless",class:p(["p-4 rounded-lg flex items-center gap-3",[o.form.payment_method==="cashless"?"border bg-lime-100 border-lime-600/50":"bg-slate-100 hover:bg-slate-200/60"]])},[h(e("input",{id:"cashless",type:"radio","onUpdate:modelValue":i[1]||(i[1]=t=>o.form.payment_method=t),value:"cashless",class:"border-gray-300 bg-white checked:bg-lime-500 checked:focus:bg-lime-500 checked:hover:bg-lime-500 checked:focus:ring-lime-500"},null,512),[[f,o.form.payment_method]]),E],2),e("label",{for:"cod",class:p(["p-4 rounded-lg flex items-center gap-3",[o.form.payment_method==="cod"?"border bg-lime-100 border-lime-600/50":"bg-slate-100 hover:bg-slate-200/60"]])},[h(e("input",{id:"cod",type:"radio","onUpdate:modelValue":i[2]||(i[2]=t=>o.form.payment_method=t),value:"cod",class:"border-gray-300 bg-white checked:bg-lime-500 checked:focus:bg-lime-500 checked:hover:bg-lime-500 checked:focus:ring-lime-500"},null,512),[[f,o.form.payment_method]]),J],2)])]),e("div",G,[Q,e("div",W,[(n(!0),a(u,null,I(r.carts,(t,Ie)=>(n(),a("div",X,[e("div",null,[t.variantPhoto?(n(),a("img",{key:0,src:"/storage/shoes/"+t.code+"/"+t.variantPhoto,class:"w-20 border border-gray-200 bg-white rounded-lg p-1"},null,8,Y)):L("",!0)]),e("div",Z,[e("div",$,s(t.name),1),e("div",ee,s(t.quantity)+"x "+s(t.color)+", "+s(t.size),1),e("div",te,[t.is_discount?(n(),a("div",se,[e("span",null,"Rp "+s(t.discount_price.toLocaleString("id-ID")),1),e("span",oe," Rp "+s(t.price.toLocaleString("id-ID")),1)])):(n(),a("div",ie,"Rp "+s(t.price.toLocaleString("id-ID")),1))])])]))),256))])]),e("div",de,[le,e("div",ne,[e("div",ae,[re,e("div",null,"Rp"+s(r.totalPrice.toLocaleString("id-ID")),1)]),e("div",ce,[me,e("div",null,"Rp"+s(o.form.shipping_fee.toLocaleString("id-ID")),1)])]),e("div",_e,[pe,e("div",null,"Rp"+s(o.form.total_payment.toLocaleString("id-ID")),1)]),e("button",{type:"button",onClick:i[3]||(i[3]=(...t)=>l.createOrder&&l.createOrder(...t)),class:"bg-lime-600 hover:bg-lime-700 py-3 w-full rounded-full font-medium text-white text-center"}," Buat Pesanan ")])]),e("div",he,[e("div",fe,[ue,e("div",be,[e("div",ge,[ve,e("div",null,"Rp"+s(r.totalPrice.toLocaleString("id-ID")),1)]),e("div",xe,[ye,e("div",null,"Rp"+s(o.form.shipping_fee.toLocaleString("id-ID")),1)])]),e("div",ke,[Oe,e("div",null,"Rp"+s(o.form.total_payment.toLocaleString("id-ID")),1)]),e("button",{type:"button",onClick:i[4]||(i[4]=(...t)=>l.createOrder&&l.createOrder(...t)),disabled:!o.form.shipping_fee,class:"bg-lime-600 hover:bg-lime-700 disabled:bg-slate-300 disabled:text-slate-500 py-3 w-full rounded-full font-medium text-white text-center text-lg"}," Buat Pesanan ",8,Ce)])])])])],64)}const ze=C(M,[["render",we]]);export{ze as default};
