import{_ as P}from"./AuthenticatedLayout-f2c796b7.js";import{i as U,T as b,Z as j,r as h,o as r,f as n,a as p,w as x,F as a,b as e,e as g,q as l,B as m,C,j as f,d as O,t as _,D as v}from"./app-541a671a.js";import{E}from"./Editor-ec973279.js";import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";const D={components:{AuthenticatedLayout:P,Link:U,useForm:b,Editor:E,Head:j},props:{shoe:Object,categories:Object,colors:Object,sizes:Object,selectedColors:Object,selectedSizes:Object,variants:Object,prices:Object,discountPrices:Object,stocks:Object},watch:{"form.sizes":"initializeColorsPrices","form.colors"(o){this.initializeColorsPrices(),o.length<1&&(this.form.sizes=[])}},methods:{initializeColorsPrices(){for(const o of this.form.colors){this.form.prices[o.id]||(this.form.prices[o.id]={},this.form.discount_prices[o.id]={},this.form.stocks[o.id]={});for(const t of this.form.sizes)this.prices[o.id]&&this.prices[o.id][t.id]!==void 0?this.form.prices[o.id][t.id]=this.prices[o.id][t.id]:this.form.prices[o.id][t.id]=0,this.discountPrices[o.id]&&this.discountPrices[o.id][t.id]!==void 0?this.form.discount_prices[o.id][t.id]=this.discountPrices[o.id][t.id]:this.form.discount_prices[o.id][t.id]=0,this.stocks[o.id]&&this.stocks[o.id][t.id]!==void 0?this.form.stocks[o.id][t.id]=this.stocks[o.id][t.id]:this.form.stocks[o.id][t.id]=0}}},created(){this.initializeColorsPrices()},setup(o){const t=b({category:o.shoe.category_id,name:o.shoe.name,price:o.shoe.price,discount_price:o.shoe.discount_price,description:o.shoe.description,colors:o.selectedColors.map(i=>({id:i.id,name:i.name})),sizes:o.selectedSizes.map(i=>({id:i.id,name:i.name})),prices:{},discount_prices:{},stocks:{}}),c=b({code:o.shoe.code,photos:""});return{form:t,img:c}}},H={class:"py-10"},L=e("h2",{class:"text-xl font-semibold mb-6"},"Edit Produk",-1),z={class:"bg-white p-8 rounded-md mb-4"},B=e("h3",{class:"font-semibold mb-6"},"Informasi Produk",-1),F={class:"text-sm flex items-center mb-6"},M=e("div",{class:"w-1/6 text-sm"},"Foto Produk",-1),N={class:"w-5/6"},A={class:"flex justify-between"},I=e("button",{type:"submit",class:"px-2 py-1 font-medium border border-gray-300 bg-neutral-100 hover:bg-gray-200 rounded-md"}," Ganti Foto ",-1),T={class:"text-sm flex items-center mb-6"},W=e("div",{class:"w-1/6"},"Nama Produk",-1),q={class:"text-sm flex items-center mb-6"},G=e("div",{class:"w-1/6"},"Kategori Produk",-1),K=e("option",{disabled:"",value:""},"Pilih kategori",-1),Z=["value"],J={class:"text-sm flex items-center mb-6"},Q=e("div",{class:"w-1/6"},"Harga",-1),R={class:"text-sm flex items-center mb-6"},X=e("div",{class:"w-1/6"},"Harga Diskon",-1),Y={class:"text-sm flex items-start"},$=e("div",{class:"w-1/6"},"Deskripsi Produk",-1),ee={class:"bg-white p-6 rounded-md mb-6"},se=e("h3",{class:"font-semibold mb-6"},"Informasi Penjualan",-1),te={class:"flex items-start mb-6"},oe=e("div",{class:"w-1/6 text-sm"},"Warna",-1),ie={class:"w-5/6 grid grid-cols-7 gap-y-4"},de={class:"flex items-center"},re=["value","id"],ne=["for"],le={class:"flex items-center mb-6"},ae=e("div",{class:"w-1/6 text-sm"},"Ukuran",-1),ce={class:"w-5/6 grid grid-cols-7"},me={class:"flex items-center"},ue=["value","id"],fe=["for"],_e={class:"flex items-start"},he=e("div",{class:"w-1/6 text-sm"},"Daftar variasi",-1),pe={class:"w-5/6"},be={class:"border overflow-hidden rounded-lg text-sm"},xe={class:"table-fixed w-full"},ge=e("thead",{class:"font-semibold bg-gray-100"},[e("tr",{class:"divide-x"},[e("td",{class:"px-4 py-2"},"Warna"),e("td",{class:"px-4 py-2"},"Ukuran"),e("td",{class:"px-4 py-2"},"Harga"),e("td",{class:"px-4 py-2"},"Harga Diskon"),e("td",{class:"px-4 py-2"},"Stok")])],-1),ve={class:"divide-y"},ye={class:"px-4 py-2"},we={class:"px-4 py-2"},ke={class:"px-4 py-2"},Ve=["onUpdate:modelValue"],Pe={class:"px-4 py-2"},Ue=["onUpdate:modelValue"],je={class:"px-4 py-2"},Ce=["onUpdate:modelValue"],Oe={class:"flex justify-end gap-2 text-sm"},Ee=e("button",{type:"submit",class:"border bg-lime-500 hover:bg-lime-600 text-white font-medium py-2 px-10 rounded-md"}," Simpan ",-1);function Se(o,t,c,i,De,He){const y=h("Head"),w=h("Editor"),k=h("Link"),V=h("AuthenticatedLayout");return r(),n(a,null,[p(y,{title:"Edit Produk"}),p(V,null,{default:x(()=>[e("div",H,[e("form",{onSubmit:t[9]||(t[9]=g(s=>i.form.put(o.route("shoes.update",c.shoe)),["prevent"]))},[L,e("div",z,[B,e("div",F,[M,e("div",N,[e("form",{onSubmit:t[1]||(t[1]=g(s=>i.img.post(o.route("shoes.update-photo")),["prevent"]))},[e("div",A,[e("input",{onInput:t[0]||(t[0]=s=>i.img.photos=s.target.files),type:"file",multiple:"multiple",class:"focus:outline-0 focus:ring-0 file:font-medium file:rounded-md file:border-solid file:border file:border-gray-300 file:bg-neutral-100 file:hover:bg-neutral-200 file:py-1 file:px-2 file:mr-2"},null,32),I])],32)])]),e("div",T,[W,l(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>i.form.name=s),type:"text",class:"w-5/6 text-sm border-gray-300 rounded-md"},null,512),[[m,i.form.name]])]),e("div",q,[G,l(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>i.form.category=s),class:"text-sm border-gray-300 rounded-md w-5/6"},[K,(r(!0),n(a,null,f(c.categories,s=>(r(),n("option",{value:s.id,key:s.id},_(s.name),9,Z))),128))],512),[[C,i.form.category]])]),e("div",J,[Q,l(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>i.form.price=s),type:"number",class:"w-5/6 text-sm border-gray-300 rounded-md"},null,512),[[m,i.form.price]])]),e("div",R,[X,l(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>i.form.discount_price=s),type:"number",class:"w-5/6 text-sm border-gray-300 rounded-md"},null,512),[[m,i.form.discount_price]])]),e("div",Y,[$,p(w,{modelValue:i.form.description,"onUpdate:modelValue":t[6]||(t[6]=s=>i.form.description=s),class:"w-5/6"},null,8,["modelValue"])])]),e("div",ee,[se,e("div",te,[oe,e("div",ie,[(r(!0),n(a,null,f(c.colors,s=>(r(),n("div",de,[l(e("input",{"onUpdate:modelValue":t[7]||(t[7]=d=>i.form.colors=d),value:s,id:s.id,type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"},null,8,re),[[v,i.form.colors]]),e("label",{for:s.id,class:"ml-2 text-sm"},_(s.name),9,ne)]))),256))])]),e("div",le,[ae,e("div",ce,[(r(!0),n(a,null,f(c.sizes,s=>(r(),n("div",me,[l(e("input",{"onUpdate:modelValue":t[8]||(t[8]=d=>i.form.sizes=d),value:s,id:s.id,type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"},null,8,ue),[[v,i.form.sizes]]),e("label",{for:s.id,class:"ml-2 text-sm"},_(s.name),9,fe)]))),256))])]),e("div",_e,[he,e("div",pe,[e("div",be,[e("table",xe,[ge,e("tbody",ve,[(r(!0),n(a,null,f(i.form.colors,s=>(r(),n(a,null,[(r(!0),n(a,null,f(i.form.sizes,d=>(r(),n("tr",{key:`${s}-${d}`,class:"divide-x"},[e("td",ye,_(s.name),1),e("td",we,_(d.name),1),e("td",ke,[l(e("input",{"onUpdate:modelValue":u=>i.form.prices[s.id][d.id]=u,type:"number",class:"border-gray-300 rounded-md text-sm w-full"},null,8,Ve),[[m,i.form.prices[s.id][d.id]]])]),e("td",Pe,[l(e("input",{"onUpdate:modelValue":u=>i.form.discount_prices[s.id][d.id]=u,type:"number",class:"border-gray-300 rounded-md text-sm w-full"},null,8,Ue),[[m,i.form.discount_prices[s.id][d.id]]])]),e("td",je,[l(e("input",{"onUpdate:modelValue":u=>i.form.stocks[s.id][d.id]=u,type:"number",class:"border-gray-300 rounded-md text-sm w-full"},null,8,Ce),[[m,i.form.stocks[s.id][d.id]]])])]))),128))],64))),256))])])])])])]),e("div",Oe,[p(k,{href:o.route("shoes.index"),class:"border border-gray-300 bg-white hover:bg-gray-50 font-medium py-2 px-10 rounded-md"},{default:x(()=>[O(" Batal ")]),_:1},8,["href"]),Ee])],32)])]),_:1})],64)}const Me=S(D,[["render",Se]]);export{Me as default};
