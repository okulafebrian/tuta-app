import{o as t,c as o,b as e,_ as S,S as P,i as B,r as d,d as _,f as r,a as h,j as I,t as a,e as u,h as H,n as w,F as L}from"./app-e00fb960.js";import{U as M,G as V,V as j}from"./dialog-ed01fe28.js";import"./use-outside-click-2a9cf22d.js";function N(s,l){return t(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z","clip-rule":"evenodd"})])}const O={data(){return{tracking:null}},components:{TransitionRoot:P,TransitionChild:B,Dialog:M,DialogPanel:V,DialogTitle:j,CheckCircleIcon:N},props:{isOpen:Boolean,order:Object},methods:{formattedShippedDate(s){if(s)return new Date(s).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})},formattedHistoryDate(s){if(s)return new Date(s).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"short",year:"numeric"})},formattedHistoryTime(s){if(s)return new Date(s).toLocaleTimeString("id-ID",{hour:"numeric",minute:"numeric"})},closeModal(){this.$emit("closeModal"),this.tracking=null}},watch:{async isOpen(){const l=(await axios.get(route("shipping.track",this.order.shipping.awb_no))).data;l.error_id?console.log("ga berhasil"):this.tracking=l}},computed:{historyDetails(){return this.tracking&&this.tracking.history?this.tracking.history.slice().reverse():[]}}},R=e("div",{class:"fixed inset-0 bg-black bg-opacity-50"},null,-1),E={class:"fixed inset-0 top-0 overflow-y-auto"},F={class:"flex justify-center"},G={class:"flex-1"},U={class:"space-y-4 text-xs p-6 border-b-8 border-gray-100"},W=e("div",{class:"text-zinc-600"},"Nomor Resi",-1),q={class:"font-semibold"},A={class:"grid grid-cols-2 gap-4"},J=e("div",{class:"text-zinc-600"},"Tanggal Pengiriman",-1),K={class:"font-semibold"},Q=e("div",{class:"text-zinc-600"},"Service Code",-1),X={class:"font-semibold"},Y=e("div",{class:"text-zinc-600"},"Estimasi Tiba",-1),Z={class:"font-semibold"},$={class:"p-6"},ee={class:"mb-3 pb-3 border-b"},te=e("div",{class:"text-zinc-600 text-xs"},"Status",-1),se={class:"font-semibold text-sm"},ie={key:0},oe={key:1},ae={key:2},ne={key:3},ce={class:"space-y-2"},le={class:"flex items-center gap-2"},de={class:"flex flex-col items-center"},re=e("div",{class:"h-5 border-l-[1.5px] mt-0.5"},null,-1),_e={class:"flex-1 text-xs"},he={class:"flex justify-between items-end mb-1"},me={class:"text-zinc-600"},ue={class:"text-zinc-600"},fe={key:0},ve={key:1},xe={key:2},ge={class:"flex items-center gap-2"},pe={class:"flex flex-col items-center"},ye=e("div",{class:"h-5 border-l-[1.5px] mt-0.5"},null,-1),be={class:"flex-1 text-xs"},ke={class:"flex justify-between items-end mb-1"},we={class:"text-zinc-600"},De=e("div",{class:"text-zinc-600"}," Pesanan dibuat ",-1),Te={class:"p-6"};function Ce(s,l,i,ze,f,c){const v=d("TransitionChild"),D=d("DialogTitle"),m=d("CheckCircleIcon"),T=d("DialogPanel"),C=d("Dialog"),z=d("TransitionRoot");return t(),_(z,{appear:"",show:i.isOpen,as:"template"},{default:r(()=>[h(C,{as:"div",class:"relative z-10"},{default:r(()=>[h(v,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:r(()=>[R]),_:1}),e("div",E,[e("div",F,[h(v,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-300 ease-out","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:r(()=>[h(T,{class:"w-[35%] rounded-md overflow-y-auto flex flex-col my-6 transform bg-white align-middle shadow-xl transition-all"},{default:r(()=>{var x,g,p,y,b;return[h(D,{class:"text-center text-xl font-bold p-6 pb-0"},{default:r(()=>[I(" Lacak Pesanan ")]),_:1}),e("div",G,[e("div",U,[e("div",null,[W,e("div",q,a((x=f.tracking)==null?void 0:x.awb),1)]),e("div",A,[e("div",null,[J,e("div",K,a((p=(g=f.tracking)==null?void 0:g.detail)==null?void 0:p.shipped_date),1)]),e("div",null,[Q,e("div",X,a((b=(y=f.tracking)==null?void 0:y.detail)==null?void 0:b.services_code),1)])]),e("div",null,[Y,e("div",Z,a(i.order.shipping.formatted_etd_time),1)])]),e("div",$,[e("div",ee,[te,e("div",se,[[2,3].includes(i.order.status)?(t(),o("div",ie,"Dikemas")):u("",!0),i.order.status==4?(t(),o("div",oe,"Dikirim")):u("",!0),i.order.status==5?(t(),o("div",ae,"Selesai")):u("",!0),i.order.status==6?(t(),o("div",ne,"Pembatalan")):u("",!0)])]),e("div",ce,[(t(!0),o(L,null,H(c.historyDetails,(n,k)=>(t(),o("div",le,[e("div",de,[k==0?(t(),_(m,{key:0,class:"w-5 h-5 text-lime-600"})):(t(),_(m,{key:1,class:"w-5 h-5 text-gray-300"})),re]),e("div",_e,[e("div",he,[e("div",{class:w(["font-semibold",k==0?"text-lime-600":"text-zinc-700"])},a(c.formattedHistoryDate(n.date_time)),3),e("div",me,a(c.formattedHistoryTime(n.date_time))+" WIB ",1)]),e("div",ue,[n.status_code==162||n.status_code==163?(t(),o("div",fe," Pesanan dibatalkan ")):n.status_code==101?(t(),o("div",ve," Pengiriman telah diatur. Menunggu pesanan diserahkan ke kurir ")):(t(),o("div",xe,a(n.status),1))])])]))),256)),e("div",ge,[e("div",pe,[i.order.shipping?(t(),_(m,{key:1,class:"w-5 h-5 text-gray-300"})):(t(),_(m,{key:0,class:"w-5 h-5 text-lime-600"})),ye]),e("div",be,[e("div",ke,[e("div",{class:w(["font-semibold",i.order.shipping?"text-zinc-700":"text-lime-600"])},a(c.formattedHistoryDate(i.order.created_at)),3),e("div",we,a(c.formattedHistoryTime(i.order.created_at))+" WIB ",1)]),De])])])])]),e("div",Te,[e("button",{type:"button",onClick:l[0]||(l[0]=(...n)=>c.closeModal&&c.closeModal(...n)),class:"px-6 py-2 border rounded font-semibold text-sm w-full"}," Tutup ")])]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])}const Ie=S(O,[["render",Ce]]);export{Ie as default};
