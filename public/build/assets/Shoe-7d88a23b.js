import{_ as w,r as h,o as d,c as n,b as e,a as f,n as k,t as a,T as C,d as S,e as b,F as _,f as g,g as v,k as y}from"./app-a798eb3e.js";import{r as z,a as P}from"./PlusIcon-1da50b7c.js";import{a as I,U as N}from"./UserLayout-acce20e2.js";import"./transition-6367855b.js";import"./focus-management-2fce0f0b.js";import"./micro-task-84f21bb7.js";import"./use-outside-click-e3d89dfb.js";import"./CheckCircleIcon-b26d9947.js";const V={data(){return{count:this.modelValue}},components:{MinusIcon:z,PlusIcon:P},props:{modelValue:Number,max:Number},watch:{count(){this.$emit("update:modelValue",this.count)}},methods:{decrement(){this.count>1&&this.count--},increment(){this.count<this.max&&this.count++}}},M={class:"flex items-center bg-slate-100 rounded-lg"},j={class:"text-center font-medium w-10"};function L(t,s,i,m,c,l){const p=h("MinusIcon"),x=h("PlusIcon");return d(),n("div",M,[e("button",{onClick:s[0]||(s[0]=(...u)=>l.decrement&&l.decrement(...u)),type:"button",class:k(["p-3",c.count===1?"text-slate-400 cursor-not-allowed":"text-lime-600"])},[f(p,{class:"w-4 h-4",style:{"stroke-width":"3"}})],2),e("div",j,a(c.count),1),e("button",{onClick:s[1]||(s[1]=(...u)=>l.increment&&l.increment(...u)),type:"button",class:k(["p-3",c.count===i.max?"text-slate-400 cursor-not-allowed":"text-lime-600"])},[f(x,{class:"w-4 h-4",style:{"stroke-width":"3"}})],2)])}const U=w(V,[["render",L]]),B={data(){return{selectedPhoto:this.shoe.photos[0],stock:this.totalStock,colorStock:[],sizeStock:[],initial:!0}},components:{NumberInput:U,ChevronRightIcon:I},props:{shoe:Object,stocks:Object,colors:Object,sizes:Object,totalStock:Number,color1:Number,size1:Number},methods:{updateSize(){this.sizes.forEach(t=>{console.log(t),this.sizeStock[t.id]=this.stocks[this.form.color_id][t.id]}),this.initial?this.initial=!1:this.form.size_id="",this.stock=parseInt(this.colors.find(t=>t.id===this.form.color_id).total_stock)},updateColor(){this.colors.forEach(t=>{this.colorStock[t.id]=this.stocks[t.id][this.form.size_id]}),this.form.color_id&&this.form.size_id?this.stock=this.stocks[this.form.color_id][this.form.size_id]:this.stock=parseInt(this.sizes.find(t=>t.id===this.form.size_id).total_stock)},selectPhoto(t){this.selectedPhoto=t},selectColorPhoto(t){const s=this.shoe.photos.find(i=>i.name===t);s!==void 0&&(this.selectedPhoto=s)},addCart(){this.form.post(route("carts.store"),{preserveState:!1,preserveScroll:!0})}},mounted(){this.updateSize(),this.selectColorPhoto(this.colors.filter(t=>t.total_stock>0)[0].id)},setup(t){return{form:C({shoe_id:t.shoe.id,color_id:t.color1,size_id:t.size1,quantity:1})}},layout:N},D={class:"px-0 xl:px-36 pb-8 xl:pt-10 xl:pb-24"},H={class:"flex flex-col xl:flex-row gap-4 xl:gap-14"},O={class:"w-screen xl:w-1/2 xl:flex gap-4"},R={class:"relative overflow-x-auto xl:overflow-y-auto snap-x snap-mandatory border-y xl:border-0"},T={class:"flex flex-row xl:flex-col xl:gap-2"},q=["src","onClick"],E={class:"hidden xl:block"},F=["src"],A={class:"flex-1 px-4 xl:px-0"},G={class:"space-y-5 mb-10"},J={class:"font-semibold text-lg xl:text-xl"},K={class:"text-zinc-600"},Q={class:"flex items-center gap-3 text-lg xl:text-xl"},W={class:"font-semibold"},X={key:0,class:"text-slate-300 font-medium line-through"},Y={key:1,class:"font-bold bg-rose-100 text-rose-600 rounded-md px-2 py-1 text-sm"},Z=e("div",{class:"font-medium mb-2"},"Pilih warna:",-1),$={class:"grid grid-cols-2 xl:grid-cols-4 gap-3"},ee=["onClick"],te=["disabled","id","value"],se=["for"],oe=e("div",{class:"font-medium mb-2"},"Pilih ukuran:",-1),ie={class:"grid grid-cols-5 gap-3"},le=["disabled","id","value"],de=["for"],ne=e("div",{class:"font-medium mb-2"},"Atur jumlah:",-1),re={class:"w-fit"},ce=["innerHTML"];function ae(t,s,i,m,c,l){const p=h("Head"),x=h("Message"),u=h("NumberInput");return d(),n(_,null,[f(p,{title:i.shoe.name},null,8,["title"]),this.$page.props.flash.message?(d(),S(x,{key:0,message:this.$page.props.flash.message},null,8,["message"])):b("",!0),e("div",D,[e("div",H,[e("div",O,[e("div",R,[e("div",T,[(d(!0),n(_,null,g(i.shoe.photos,o=>(d(),n("img",{src:o.path,onClick:r=>l.selectPhoto(o),class:k(["snap-start xl:border-[1.5px] border-slate-100 hover:border-lime-400 rounded-lg xl:w-40 p-1",{"border-lime-400":c.selectedPhoto.name===o.name}])},null,10,q))),256))])]),e("div",E,[e("img",{src:c.selectedPhoto.path,class:"border-[1.5px] border-slate-100 rounded-xl p-4"},null,8,F)])]),e("div",A,[e("div",G,[e("div",null,[e("div",J,a(i.shoe.name),1),e("div",K,a(i.shoe.category.name),1)]),e("div",Q,[e("div",W," Rp "+a((i.shoe.is_discount?i.shoe.discount_price:i.shoe.price).toLocaleString("id-ID")),1),i.shoe.is_discount?(d(),n("div",X," Rp "+a(i.shoe.price.toLocaleString("id-ID")),1)):b("",!0),i.shoe.is_discount?(d(),n("div",Y,a(i.shoe.discount)+"% ",1)):b("",!0)]),e("div",null,[Z,e("div",$,[(d(!0),n(_,null,g(i.colors,o=>(d(),n("div",{onClick:r=>l.selectColorPhoto(o.id)},[v(e("input",{disabled:o.total_stock<1,"onUpdate:modelValue":s[0]||(s[0]=r=>m.form.color_id=r),id:"c"+o.id,value:o.id,type:"radio",class:"hidden peer",onChange:s[1]||(s[1]=(...r)=>l.updateSize&&l.updateSize(...r))},null,40,te),[[y,m.form.color_id]]),e("label",{for:"c"+o.id,class:"font-medium ring-1 ring-slate-200 rounded-md block text-center py-2 select-none cursor-pointer peer-checked:ring-lime-500 peer-checked:bg-lime-50 peer-checked:text-lime-600 peer-disabled:cursor-not-allowed peer-disabled:ring-0 peer-disabled:bg-slate-100 peer-disabled:text-slate-400"},a(o.name),9,se)],8,ee))),256))])]),e("div",null,[oe,e("div",ie,[(d(!0),n(_,null,g(i.sizes,o=>(d(),n("div",null,[v(e("input",{disabled:o.total_stock<1||c.sizeStock[o.id]<1,"onUpdate:modelValue":s[2]||(s[2]=r=>m.form.size_id=r),id:"s"+o.id,value:o.id,type:"radio",class:"hidden peer",onChange:s[3]||(s[3]=(...r)=>l.updateColor&&l.updateColor(...r))},null,40,le),[[y,m.form.size_id]]),e("label",{for:"s"+o.id,class:"font-medium ring-1 ring-slate-200 rounded-md block text-center py-2 select-none cursor-pointer peer-checked:ring-lime-500 peer-checked:bg-lime-50 peer-checked:text-lime-600 peer-disabled:cursor-not-allowed peer-disabled:ring-0 peer-disabled:bg-slate-100 peer-disabled:text-slate-400"},a(o.name),9,de)]))),256))])]),e("div",null,[ne,e("div",re,[f(u,{modelValue:m.form.quantity,"onUpdate:modelValue":s[4]||(s[4]=o=>m.form.quantity=o),max:c.stock},null,8,["modelValue","max"])])])]),e("button",{type:"button",onClick:s[5]||(s[5]=(...o)=>l.addCart&&l.addCart(...o)),class:"rounded-full bg-lime-600 hover:bg-lime-700 py-3 font-medium text-white w-full"}," Tambah ke keranjang "),e("div",{innerHTML:i.shoe.description,class:"mt-10 prose select-none"},null,8,ce)])])])],64)}const ge=w(B,[["render",ae]]);export{ge as default};
