import{_ as P,S as D,i as z,T,r as c,o as a,d as V,f as n,a as f,b as t,j as k,w as r,v as b,t as m,k as h,c as l,h as u,F as p}from"./app-a0f2337f.js";import{r as U}from"./XMarkIcon-3bb62fe2.js";import{U as M,G as N,V as A}from"./dialog-462821c4.js";import"./use-outside-click-eb249b35.js";const B={data(){return{provinces:"",cities:"",districts:"",zipCodes:"",initial1:!0,initial2:!0,initial3:!0}},components:{TransitionRoot:D,TransitionChild:z,Dialog:M,DialogPanel:N,DialogTitle:A,XMarkIcon:U},props:{isOpen:Boolean,address:Object},methods:{validateName(o){this.form.name.length>o&&(this.form.name=this.form.name.slice(0,o))},validateAddress(o){this.form.detail.length>o&&(this.form.detail=this.form.detail.slice(0,o))},validatePhone(){this.form.phone_number=this.form.phone_number.replace(/[^0-9]/g,""),this.form.phone_number.length>15&&(this.form.phone_number=this.form.phone_number.slice(0,15))},closeModal(){this.$emit("closeModal"),this.initial1=!0,this.initial2=!0,this.initial3=!0},updateAddress(){this.form.put(route("addresses.update",this.address),{preserveState:!1})},getProvinces(){axios.get(route("provinces.load")).then(o=>{this.provinces=o.data.provinces.sort((i,v)=>i.name.localeCompare(v.name))})},getCities(){this.form.province_id&&axios.get(route("cities.load",this.form.province_id)).then(o=>this.cities=o.data.cities),this.initial1?this.initial1=!1:this.form.city_id=""},getDistricts(){this.form.city_id&&axios.get(route("districts.load",this.form.city_id)).then(o=>this.districts=o.data.districts),this.initial2?this.initial2=!1:this.form.district_id=""},getZipCodes(){this.form.district_id&&axios.get(route("zip-codes.load",this.form.district_id)).then(o=>this.zipCodes=o.data.zipCodes),this.initial3?this.initial3=!1:this.form.zip_code_id=""}},watch:{isOpen(){this.form.name=this.address.name,this.form.phone_number=this.address.phone_number,this.form.province_id=this.address.province.id,this.form.city_id=this.address.city.id,this.form.district_id=this.address.district.id,this.form.zip_code_id=this.address.zip_code.id,this.form.detail=this.address.detail,this.getProvinces()},"form.province_id"(){this.getCities()},"form.city_id"(){this.getDistricts()},"form.district_id"(){this.getZipCodes()}},computed:{isFormComplete(){return Object.values(this.form).every(o=>o!=="")}},setup(){return{form:T({name:"",phone_number:"",province_id:"",city_id:"",district_id:"",zip_code_id:"",detail:""})}}},K=t("div",{class:"fixed inset-0 bg-black bg-opacity-50"},null,-1),S={class:"fixed inset-0 top-0 overflow-y-auto"},j={class:"flex justify-center"},O={class:"py-6"},F={class:"mb-4"},I=t("div",{class:"font-semibold text-sm mb-2"},"Nama Lengkap",-1),L={class:"text-right text-xs text-gray-500 mt-1"},R={class:"mb-8"},E=t("div",{class:"font-semibold text-sm mb-2"},"Nomor HP",-1),G={class:"mb-8"},Z=t("div",{class:"font-semibold text-sm mb-2"},"Provinsi",-1),H=t("option",{value:"",disabled:""},"Pilih Provinsi",-1),X=["value"],q={class:"mb-8"},J=t("div",{class:"font-semibold text-sm mb-2"},"Kota",-1),Q=["disabled"],W=t("option",{value:"",disabled:""},"Pilih Kota",-1),Y=["value"],$={class:"mb-8"},tt=t("div",{class:"font-semibold text-sm mb-2"},"Kecamatan",-1),et=["disabled"],it=t("option",{value:"",disabled:""},"Pilih Kecamatan",-1),st=["value"],ot={class:"mb-8"},dt=t("div",{class:"font-semibold text-sm mb-2"},"Kode Pos",-1),at=["disabled"],lt=t("option",{value:"",disabled:""},"Pilih Kode Pos",-1),rt=["value"],nt=t("div",{class:"font-semibold text-sm mb-2"},"Alamat Lengkap",-1),mt={class:"text-right text-xs text-gray-500"},ct={class:"flex xl:justify-end gap-2 py-2"},ft=["disabled"];function _t(o,i,v,s,_,d){const x=c("TransitionChild"),g=c("DialogTitle"),y=c("DialogPanel"),w=c("Dialog"),C=c("TransitionRoot");return a(),V(C,{appear:"",show:v.isOpen,as:"template"},{default:n(()=>[f(w,{as:"div",class:"relative z-10"},{default:n(()=>[f(x,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[K]),_:1}),t("div",S,[t("div",j,[f(x,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-300 ease-out","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[f(y,{class:"w-full xl:w-[45%] xl:rounded-md flex flex-col xl:my-6 transform bg-white align-middle shadow-xl transition-all px-4 xl:px-8 py-6"},{default:n(()=>[f(g,{class:"text-xl text-center font-bold"},{default:n(()=>[k(" Ubah Alamat ")]),_:1}),t("div",O,[t("div",F,[I,r(t("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>s.form.name=e),onInput:i[1]||(i[1]=e=>d.validateName(30)),type:"text",class:"text-sm border-gray-300 rounded-md w-full"},null,544),[[b,s.form.name]]),t("div",L,m(s.form.name.length)+"/30 ",1)]),t("div",R,[E,r(t("input",{"onUpdate:modelValue":i[2]||(i[2]=e=>s.form.phone_number=e),onInput:i[3]||(i[3]=(...e)=>d.validatePhone&&d.validatePhone(...e)),type:"text",placeholder:"08xxxxxxxxxx",class:"text-sm border-gray-300 rounded-md w-full"},null,544),[[b,s.form.phone_number]])]),t("div",G,[Z,r(t("select",{"onUpdate:modelValue":i[4]||(i[4]=e=>s.form.province_id=e),class:"text-sm border-gray-300 rounded-md w-full"},[H,(a(!0),l(p,null,u(_.provinces,e=>(a(),l("option",{value:e.id},m(e.name),9,X))),256))],512),[[h,s.form.province_id]])]),t("div",q,[J,r(t("select",{"onUpdate:modelValue":i[5]||(i[5]=e=>s.form.city_id=e),class:"text-sm border-gray-300 rounded-md w-full disabled:bg-slate-200",disabled:!s.form.province_id},[W,(a(!0),l(p,null,u(_.cities,e=>(a(),l("option",{value:e.id},m(e.name),9,Y))),256))],8,Q),[[h,s.form.city_id]])]),t("div",$,[tt,r(t("select",{"onUpdate:modelValue":i[6]||(i[6]=e=>s.form.district_id=e),class:"text-sm border-gray-300 rounded-md w-full disabled:bg-slate-200",disabled:!s.form.city_id},[it,(a(!0),l(p,null,u(_.districts,e=>(a(),l("option",{value:e.id},m(e.name),9,st))),256))],8,et),[[h,s.form.district_id]])]),t("div",ot,[dt,r(t("select",{"onUpdate:modelValue":i[7]||(i[7]=e=>s.form.zip_code_id=e),class:"text-sm border-gray-300 rounded-md w-full disabled:bg-slate-200",disabled:!s.form.district_id},[lt,(a(!0),l(p,null,u(_.zipCodes,e=>(a(),l("option",{value:e.id},m(e.name),9,rt))),256))],8,at),[[h,s.form.zip_code_id]])]),t("div",null,[nt,r(t("textarea",{rows:"3","onUpdate:modelValue":i[8]||(i[8]=e=>s.form.detail=e),onInput:i[9]||(i[9]=e=>d.validateName(200)),class:"text-sm border-gray-300 rounded-md w-full resize-none"},null,544),[[b,s.form.detail]]),t("div",mt,m(s.form.detail.length)+"/200 ",1)])]),t("div",ct,[t("button",{type:"button",onClick:i[10]||(i[10]=(...e)=>d.closeModal&&d.closeModal(...e)),class:"px-8 py-2 rounded-full border font-semibold w-1/2 xl:w-auto"}," Batal "),t("button",{type:"button",onClick:i[11]||(i[11]=(...e)=>d.updateAddress&&d.updateAddress(...e)),disabled:!d.isFormComplete,class:"px-8 py-2 rounded-full bg-lime-600 hover:bg-lime-700 disabled:bg-slate-200 disabled:text-slate-500 font-semibold text-white w-1/2 xl:w-auto"}," Simpan ",8,ft)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])}const bt=P(B,[["render",_t]]);export{bt as default};
