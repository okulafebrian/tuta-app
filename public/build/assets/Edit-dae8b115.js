import{A as x}from"./AdminLayout-b0f32dd7.js";import{_ as y,T as v,r,o as l,c as n,a as m,d as g,e as k,b as t,w,v as C,F as p,h as M,t as c,j as P}from"./app-a0f2337f.js";import O from"./ProductList-9eee23ed.js";import{r as T}from"./TrashIcon-3d31009d.js";import"./XMarkIcon-3bb62fe2.js";import"./dialog-462821c4.js";import"./use-outside-click-eb249b35.js";const A={data(){return{isOpen:!1,isDisabled:!this.form.products}},props:{collection:Object,products:Object},components:{ProductList:O,TrashIcon:T},watch:{"form.products"(){this.isDisabled=!(this.form.products.length>0)}},methods:{openModal(){this.isOpen=!0},closeModal(o){this.isOpen=!1,o&&(this.form.products=o)},addCollection(){this.form.post(route("collections.store"))},removeProduct(o){this.form.products.splice(o,1),this.isDisabled=!(this.form.products.length>0)}},setup(o){return{form:v({name:o.collection.name,products:o.collection.products})}},layout:x},D={class:"w-3/4 mx-auto pt-6 pb-12"},N={class:"flex items-center justify-between mb-6"},L=t("div",{class:"text-xl font-semibold"},"Edit Koleksi",-1),j=["disabled"],E={class:"bg-white p-8 rounded-md shadow mb-4"},I=t("div",{class:"text-sm font-medium mb-2"},"Nama Koleksi",-1),V={key:0,class:"bg-white p-8 rounded-md shadow"},B={class:"flex justify-between items-center mb-4"},H=t("div",{class:"text-lg font-semibold"},"Produk Terpilih",-1),K={class:"w-full"},R=t("thead",{class:"border-y"},[t("tr",{class:"text-left text-xs font-semibold"},[t("td",{class:"py-4 px-6"},"NAMA PRODUK"),t("td",{class:"py-4 px-6"},"HARGA"),t("td",{class:"py-4 px-6"},"PENJUALAN"),t("td",{class:"py-4 ps-6"})])],-1),S={class:"text-sm divide-y divide-gray-100"},U={class:"py-4 px-6"},F={class:"flex items-center gap-3"},G=["src"],J={class:"font-semibold line-clamp-2"},q={class:"text-xs"},z={class:"py-4 px-6"},Q=t("td",{class:"py-4 px-6"}," 2 ",-1),W={class:"py-4 px-6"},X=["onClick"],Y={key:1,class:"bg-white py-12 rounded-md shadow text-center"},Z=t("div",{class:"mb-6"},[t("div",{class:"text-lg font-semibold"},"Isi dulu koleksinya"),t("div",{class:"text-sm"},"Pilih produk yang sesuai dengan nama koleksi")],-1);function $(o,s,u,i,a,d){const h=r("Head"),b=r("ProductList"),_=r("TrashIcon");return l(),n(p,null,[m(h,{title:"Edit Koleksi"}),a.isOpen?(l(),g(b,{key:0,isOpen:a.isOpen,onCloseModal:d.closeModal,products:u.products,selected:i.form.products},null,8,["isOpen","onCloseModal","products","selected"])):k("",!0),t("div",D,[t("div",N,[L,t("div",null,[t("button",{type:"button",onClick:s[0]||(s[0]=(...e)=>d.addCollection&&d.addCollection(...e)),disabled:a.isDisabled,class:"px-8 py-2 rounded bg-lime-600 hover:bg-lime-700 disabled:bg-slate-300 disabled:text-slate-500 text-sm font-semibold text-white"}," Selesai ",8,j)])]),t("div",E,[I,w(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>i.form.name=e),type:"text",class:"border-gray-300 rounded-lg w-full text-sm",placeholder:"Tulis nama koleksi disini"},null,512),[[C,i.form.name]])]),i.form.products.length>0?(l(),n("div",V,[t("div",B,[H,t("div",null,[t("button",{type:"button",onClick:s[2]||(s[2]=(...e)=>d.openModal&&d.openModal(...e)),class:"border border-lime-600 rounded-md px-4 py-2 font-semibold text-sm text-lime-600"}," Tambah Produk ")])]),t("div",null,[t("table",K,[R,t("tbody",S,[(l(!0),n(p,null,M(i.form.products,(e,f)=>(l(),n("tr",null,[t("td",U,[t("div",F,[t("img",{src:"/storage/products/"+e.code+"/main/"+e.mainPhoto,class:"border rounded p-1 w-16 h-16"},null,8,G),t("div",null,[t("div",J,c(e.name),1),t("div",q,c(e.category.name),1)])])]),t("td",z," Rp"+c(e.price.toLocaleString("id-ID")),1),Q,t("td",W,[t("button",{type:"button",onClick:tt=>d.removeProduct(f),class:"flex items-center gap-1 font-semibold text-xs hover:text-lime-600 p-2 ms-auto"},[m(_,{class:"w-4 h-4 stroke-2 text-gray-500"}),P(" Hapus ")],8,X)])]))),256))])])])])):(l(),n("div",Y,[Z,t("button",{type:"button",onClick:s[3]||(s[3]=(...e)=>d.openModal&&d.openModal(...e)),class:"bg-lime-600 hover:bg-lime-700 text-white font-semibold px-10 py-2 rounded"}," Tambah Produk ")]))])],64)}const at=y(A,[["render",$]]);export{at as default};
