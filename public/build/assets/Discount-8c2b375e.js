import{A as y}from"./AdminLayout-e0f3cfa6.js";import{M as v,P as w}from"./PropertyDropdown-01de539a.js";import{_ as D,T as k,r as m,o as a,c as l,a as f,b as t,F as h,f as A,w as V,t as u,g as p,v as g,l as L,j as P}from"./app-a798eb3e.js";import"./CheckCircleIcon-b26d9947.js";import"./TrashIcon-124f03de.js";import"./focus-management-2fce0f0b.js";import"./use-outside-click-e3d89dfb.js";import"./use-resolve-button-type-01310c69.js";const U={data(){return{discount_price:[]}},components:{ManageDropdown:v,PropertyDropdown:w},props:{shoes:Object},methods:{discountPrice(e,s){const i=e-e*(this.form.discount[s]/100);this.form.discount_price[s]=i,this.discount_price[s]=i.toLocaleString("id-ID")},updateDiscount(){this.form.put(route("shoes.update-discount"))}},mounted(){this.shoes.forEach((e,s)=>{this.form.shoe_id[s]=e.id,this.form.discount_price[s]=e.discount_price??null,this.discount_price[s]=e.discount_price?e.discount_price.toLocaleString("id-ID"):null,this.form.discount[s]=e.discount??null,this.form.is_discount[s]=e.is_discount})},setup(){return{form:k({shoe_id:[],discount_price:[],discount:[],is_discount:[]})}},layout:y},C={class:"px-20 py-10"},I=t("div",{class:"text-2xl font-semibold mb-8"},"Atur Diskon",-1),S={class:"bg-white shadow-sm rounded-lg mb-6"},N={class:"w-full"},T=t("thead",{class:"border-b"},[t("tr",{class:"text-left text-sm font-semibold"},[t("td",{class:"py-4 px-6"},"DETAIL PRODUK"),t("td",{class:"py-4 px-6"},"HARGA"),t("td",{class:"py-4 px-6"},"HARGA DISKON"),t("td",{class:"py-4 px-6"},"DISKON"),t("td",{class:"py-4 px-6"},"AKTIF")])],-1),B={class:"text-sm divide-y"},H={class:"py-4 px-6"},K={class:"flex gap-4"},M={class:"ring-1 ring-gray-200 p-1 rounded-md overflow-hidden"},O=["src"],R={class:"py-1"},j={class:"font-medium line-clamp-2"},E={class:"py-4 px-6"},F={class:"py-4 px-6"},G={class:"flex items-center border border-gray-200 bg-gray-100 rounded-md overflow-hidden w-fit"},q=t("div",{class:"text-sm text-gray-500 font-semibold px-3"},"Rp",-1),z=["onUpdate:modelValue"],J={class:"py-4 px-6"},Q={class:"flex items-center border border-gray-200 bg-gray-100 rounded-md overflow-hidden w-fit"},W=t("div",{class:"text-sm text-gray-500 font-semibold px-3"},"%",-1),X=["onUpdate:modelValue","onChange"],Y={class:"py-4 px-6"},Z={class:"relative inline-flex items-center cursor-pointer"},$=["onUpdate:modelValue","checked"],tt=t("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1),et={class:"flex justify-end gap-3 text-sm"};function st(e,s,i,r,_,c){const x=m("Head"),b=m("Link");return a(),l(h,null,[f(x,{title:"Pengaturan Diskon"}),t("div",C,[I,t("div",S,[t("table",N,[T,t("tbody",B,[(a(!0),l(h,null,A(i.shoes,(o,d)=>(a(),l("tr",null,[t("td",H,[t("div",K,[t("div",M,[t("img",{src:"/storage/shoes/"+o.code+"/"+o.photo+"/"+o.mainPhoto,class:"max-w-none h-16"},null,8,O)]),t("div",R,[t("div",j,u(o.name),1),t("div",null,u(o.category.name),1)])])]),t("td",E,u(o.formatted_price),1),t("td",F,[t("div",G,[q,p(t("input",{type:"text",class:"text-sm border-0 focus:ring-0","onUpdate:modelValue":n=>_.discount_price[d]=n},null,8,z),[[g,_.discount_price[d]]])])]),t("td",J,[t("div",Q,[W,p(t("input",{type:"number",class:"text-sm border-0 focus:ring-0","onUpdate:modelValue":n=>r.form.discount[d]=n,onChange:n=>c.discountPrice(o.price,d)},null,40,X),[[g,r.form.discount[d]]])])]),t("td",Y,[t("label",Z,[p(t("input",{type:"checkbox",class:"sr-only peer","onUpdate:modelValue":n=>r.form.is_discount[d]=n,checked:r.form.is_discount[d]},null,8,$),[[L,r.form.is_discount[d]]]),tt])])]))),256))])])]),t("div",et,[f(b,{href:e.route("shoes.index"),class:"ring-1 ring-gray-200 bg-white hover:bg-gray-50 font-semibold py-2.5 px-10 rounded-lg"},{default:V(()=>[P(" Batal ")]),_:1},8,["href"]),t("button",{type:"button",onClick:s[0]||(s[0]=(...o)=>c.updateDiscount&&c.updateDiscount(...o)),class:"bg-lime-600 hover:bg-lime-700 disabled:bg-lime-500/50 text-white font-semibold py-2.5 px-10 rounded-lg"}," Simpan ")])])],64)}const ut=D(U,[["render",st]]);export{ut as default};
