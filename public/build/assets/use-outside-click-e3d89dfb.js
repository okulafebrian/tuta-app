import{C as p,x as w,A as s,q as E,u as g}from"./app-a798eb3e.js";import{d as v,o as L,w as C,h}from"./focus-management-2fce0f0b.js";let f=Symbol("Context");var y=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(y||{});function $(){return x()!==null}function x(){return p(f,null)}function b(e){w(f,e)}function d(e,u,l){v.isServer||s(r=>{document.addEventListener(e,u,l),r(()=>document.removeEventListener(e,u,l))})}function O(e,u,l){v.isServer||s(r=>{window.addEventListener(e,u,l),r(()=>window.removeEventListener(e,u,l))})}function A(e,u,l=g(()=>!0)){function r(n,i){if(!l.value||n.defaultPrevented)return;let t=i(n);if(t===null||!t.getRootNode().contains(t))return;let m=function a(o){return typeof o=="function"?a(o()):Array.isArray(o)||o instanceof Set?o:[o]}(e);for(let a of m){if(a===null)continue;let o=a instanceof HTMLElement?a:L(a);if(o!=null&&o.contains(t)||n.composed&&n.composedPath().includes(o))return}return!C(t,h.Loose)&&t.tabIndex!==-1&&n.preventDefault(),u(n,t)}let c=E(null);d("pointerdown",n=>{var i,t;l.value&&(c.value=((t=(i=n.composedPath)==null?void 0:i.call(n))==null?void 0:t[0])||n.target)},!0),d("mousedown",n=>{var i,t;l.value&&(c.value=((t=(i=n.composedPath)==null?void 0:i.call(n))==null?void 0:t[0])||n.target)},!0),d("click",n=>{c.value&&(r(n,()=>c.value),c.value=null)},!0),d("touchend",n=>r(n,()=>n.target instanceof HTMLElement?n.target:null),!0),O("blur",n=>r(n,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}export{$ as C,b as c,y as l,x as p,O as w,A as y};
