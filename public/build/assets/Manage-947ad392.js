import{S as le}from"./Status-c3b265db.js";import{u as N,x as A,y as R,z as x,A as X,B as U,C as ne,D as oe,E as h,H,G as ie,F as W,I as Z,J as $,K as J,N as Y,L as q,M as de,o as p,c as f,b as r,_ as ee,r as L,e as y,t as m,h as te,j as E,a as w,d as ue,f as z,n as F}from"./app-e00fb960.js";import{A as ce}from"./AdminLayout-f4eea498.js";import{S as pe}from"./Admin-7af04ed3.js";import fe from"./Create-03078dfc.js";import ve from"./Show-d90fd1cc.js";import{O as D,o as T,T as G,m as me,P as j,N as O}from"./use-outside-click-2a9cf22d.js";import{b as be}from"./use-resolve-button-type-7693130d.js";import{a as he,f as ae}from"./dialog-ed01fe28.js";import"./XMarkIcon-e47da2f3.js";let _e=N({props:{onFocus:{type:Function,required:!0}},setup(e){let d=A(!0);return()=>d.value?R(ae,{as:"button",type:"button",features:he.Focusable,onFocus(a){a.preventDefault();let v,n=50;function s(){var u;if(n--<=0){v&&cancelAnimationFrame(v);return}if((u=e.onFocus)!=null&&u.call(e)){d.value=!1,cancelAnimationFrame(v);return}v=requestAnimationFrame(s)}v=requestAnimationFrame(s)}}):null}});var xe=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(xe||{}),ge=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(ge||{});let se=Symbol("TabsContext");function V(e){let d=J(se,null);if(d===null){let a=new Error(`<${e} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,V),a}return d}let Q=Symbol("TabsSSRContext"),ye=N({name:"TabGroup",emits:{change:e=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:d,attrs:a,emit:v}){var n;let s=A((n=e.selectedIndex)!=null?n:e.defaultIndex),u=A([]),o=A([]),g=x(()=>e.selectedIndex!==null),_=x(()=>g.value?e.selectedIndex:s.value);function b(l){var t;let i=D(c.tabs.value,h),k=D(c.panels.value,h),M=i.filter(P=>{var S;return!((S=h(P))!=null&&S.hasAttribute("disabled"))});if(l<0||l>i.length-1){let P=q(s.value===null?0:Math.sign(l-s.value),{[-1]:()=>1,0:()=>q(Math.sign(l),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),S=q(P,{0:()=>i.indexOf(M[0]),1:()=>i.indexOf(M[M.length-1])});S!==-1&&(s.value=S),c.tabs.value=i,c.panels.value=k}else{let P=i.slice(0,l),S=[...i.slice(l),...P].find(re=>M.includes(re));if(!S)return;let K=(t=i.indexOf(S))!=null?t:c.selectedIndex.value;K===-1&&(K=c.selectedIndex.value),s.value=K,c.tabs.value=i,c.panels.value=k}}let c={selectedIndex:x(()=>{var l,t;return(t=(l=s.value)!=null?l:e.defaultIndex)!=null?t:null}),orientation:x(()=>e.vertical?"vertical":"horizontal"),activation:x(()=>e.manual?"manual":"auto"),tabs:u,panels:o,setSelectedIndex(l){_.value!==l&&v("change",l),g.value||b(l)},registerTab(l){var t;if(u.value.includes(l))return;let i=u.value[s.value];u.value.push(l),u.value=D(u.value,h);let k=(t=u.value.indexOf(i))!=null?t:s.value;k!==-1&&(s.value=k)},unregisterTab(l){let t=u.value.indexOf(l);t!==-1&&u.value.splice(t,1)},registerPanel(l){o.value.includes(l)||(o.value.push(l),o.value=D(o.value,h))},unregisterPanel(l){let t=o.value.indexOf(l);t!==-1&&o.value.splice(t,1)}};X(se,c);let C=A({tabs:[],panels:[]}),I=A(!1);U(()=>{I.value=!0}),X(Q,x(()=>I.value?null:C.value));let B=x(()=>e.selectedIndex);return U(()=>{ne([B],()=>{var l;return b((l=e.selectedIndex)!=null?l:e.defaultIndex)},{immediate:!0})}),oe(()=>{if(!g.value||_.value==null||c.tabs.value.length<=0)return;let l=D(c.tabs.value,h);l.some((t,i)=>h(c.tabs.value[i])!==h(t))&&c.setSelectedIndex(l.findIndex(t=>h(t)===h(c.tabs.value[_.value])))}),()=>{let l={selectedIndex:s.value};return R(W,[u.value.length<=0&&R(_e,{onFocus:()=>{for(let t of u.value){let i=h(t);if((i==null?void 0:i.tabIndex)===0)return i.focus(),!0}return!1}}),H({theirProps:{...a,...ie(e,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:l,slots:d,attrs:a,name:"TabGroup"})])}}}),ke=N({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:d,slots:a}){let v=V("TabList");return()=>{let n={selectedIndex:v.selectedIndex.value},s={role:"tablist","aria-orientation":v.orientation.value};return H({ourProps:s,theirProps:e,slot:n,attrs:d,slots:a,name:"TabList"})}}}),we=N({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-tabs-tab-${Z()}`}},setup(e,{attrs:d,slots:a,expose:v}){let n=V("Tab"),s=A(null);v({el:s,$el:s}),U(()=>n.registerTab(s)),$(()=>n.unregisterTab(s));let u=J(Q),o=x(()=>{if(u.value){let t=u.value.tabs.indexOf(e.id);return t===-1?u.value.tabs.push(e.id)-1:t}return-1}),g=x(()=>{let t=n.tabs.value.indexOf(s);return t===-1?o.value:t}),_=x(()=>g.value===n.selectedIndex.value);function b(t){var i;let k=t();if(k===G.Success&&n.activation.value==="auto"){let M=(i=me(s))==null?void 0:i.activeElement,P=n.tabs.value.findIndex(S=>h(S)===M);P!==-1&&n.setSelectedIndex(P)}return k}function c(t){let i=n.tabs.value.map(k=>h(k)).filter(Boolean);if(t.key===T.Space||t.key===T.Enter){t.preventDefault(),t.stopPropagation(),n.setSelectedIndex(g.value);return}switch(t.key){case T.Home:case T.PageUp:return t.preventDefault(),t.stopPropagation(),b(()=>j(i,O.First));case T.End:case T.PageDown:return t.preventDefault(),t.stopPropagation(),b(()=>j(i,O.Last))}if(b(()=>q(n.orientation.value,{vertical(){return t.key===T.ArrowUp?j(i,O.Previous|O.WrapAround):t.key===T.ArrowDown?j(i,O.Next|O.WrapAround):G.Error},horizontal(){return t.key===T.ArrowLeft?j(i,O.Previous|O.WrapAround):t.key===T.ArrowRight?j(i,O.Next|O.WrapAround):G.Error}}))===G.Success)return t.preventDefault()}let C=A(!1);function I(){var t;C.value||(C.value=!0,!e.disabled&&((t=h(s))==null||t.focus({preventScroll:!0}),n.setSelectedIndex(g.value),de(()=>{C.value=!1})))}function B(t){t.preventDefault()}let l=be(x(()=>({as:e.as,type:d.type})),s);return()=>{var t;let i={selected:_.value},{id:k,...M}=e,P={ref:s,onKeydown:c,onMousedown:B,onClick:I,id:k,role:"tab",type:l.value,"aria-controls":(t=h(n.panels.value[g.value]))==null?void 0:t.id,"aria-selected":_.value,tabIndex:_.value?0:-1,disabled:e.disabled?!0:void 0};return H({ourProps:P,theirProps:M,slot:i,attrs:d,slots:a,name:"Tab"})}}}),Ie=N({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:d,attrs:a}){let v=V("TabPanels");return()=>{let n={selectedIndex:v.selectedIndex.value};return H({theirProps:e,ourProps:{},slot:n,attrs:a,slots:d,name:"TabPanels"})}}}),Pe=N({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-tabs-panel-${Z()}`},tabIndex:{type:Number,default:0}},setup(e,{attrs:d,slots:a,expose:v}){let n=V("TabPanel"),s=A(null);v({el:s,$el:s}),U(()=>n.registerPanel(s)),$(()=>n.unregisterPanel(s));let u=J(Q),o=x(()=>{if(u.value){let b=u.value.panels.indexOf(e.id);return b===-1?u.value.panels.push(e.id)-1:b}return-1}),g=x(()=>{let b=n.panels.value.indexOf(s);return b===-1?o.value:b}),_=x(()=>g.value===n.selectedIndex.value);return()=>{var b;let c={selected:_.value},{id:C,tabIndex:I,...B}=e,l={ref:s,id:C,role:"tabpanel","aria-labelledby":(b=h(n.tabs.value[g.value]))==null?void 0:b.id,tabIndex:_.value?I:-1};return!_.value&&e.unmount&&!e.static?R(ae,{as:"span",...l}):H({ourProps:l,theirProps:B,slot:c,attrs:d,slots:a,features:Y.Static|Y.RenderStrategy,visible:_.value,name:"TabPanel"})}}});function Se(e,d){return p(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0110.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0l.229 2.523a1.125 1.125 0 01-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0021 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 00-1.913-.247M6.34 18H5.25A2.25 2.25 0 013 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 011.913-.247m10.5 0a48.536 48.536 0 00-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5zm-3 0h.008v.008H15V10.5z"})])}const Te={components:{Status:le,PrinterIcon:Se},methods:{cancel(){window.confirm("Apakah Anda yakin ingin membatalkan pesanan ini")&&this.$inertia.put(route("orders.cancel",this.order))},receipt(){const e=route("shipping.receipt",this.order.shipping);window.open(e,"_blank")},pickup(){this.$emit("pickup")},track(){this.$emit("track")}},props:{order:Object}},Oe={class:"bg-white rounded shadow"},Ce={class:"flex gap-2 text-xs border-b px-4 py-3"},Ae={class:"font-semibold"},Me={key:0},Le={key:1},Be={key:2},je={key:3},Ee=r("div",{class:"text-zinc-200"},"/",-1),Ne={class:"font-semibold text-lime-600"},ze=r("div",{class:"text-zinc-200"},"/",-1),Fe=r("div",{class:"text-zinc-200"},"/",-1),De=r("div",{class:"text-zinc-200"},"/",-1),He=r("div",null,"Midtrans",-1),Ve={class:"p-4 space-y-4"},Ge={class:"flex divide-x text-xs"},qe={class:"w-1/2 space-y-4 pe-4"},Re={class:"flex gap-4"},Ue=["src"],We={class:"flex-1 text-xs space-y-0.5"},Ke={class:"font-semibold"},Je={class:"text-zinc-600"},Qe={class:"flex-grow grid grid-cols-2 ps-4"},Xe=r("div",{class:"font-semibold mb-1"},"Alamat",-1),Ye={class:"text-zinc-600"},Ze={class:"space-y-4"},$e=r("div",{class:"font-semibold mb-1"},"Kurir",-1),et={class:"flex items-center gap-1"},tt=r("div",{class:"text-zinc-600"},"J&T - Reguler",-1),at={key:0,class:"font-bold bg-red-600/10 px-1 text-red-600 text-[10px] rounded"},st={key:0},rt=r("div",{class:"font-semibold mb-1"},"No. Resi",-1),lt={class:"text-zinc-600"},nt={class:"flex items-center justify-between bg-gray-100 px-3 py-2 rounded"},ot={class:"text-xs"},it=r("span",{class:"font-bold"},"Total Harga",-1),dt={class:"font-bold"},ut={class:"flex items-center justify-between"},ct={key:0,class:"bg-amber-100 text-amber-600 px-4 py-2 rounded text-xs font-semibold"},pt={key:1,class:"bg-blue-100 text-blue-600 px-4 py-2 rounded text-xs font-semibold"},ft={class:"flex-grow flex justify-end gap-3 font-medium text-sm"},vt=r("div",null,"Cetak Label",-1);function mt(e,d,a,v,n,s){const u=L("PrinterIcon");return p(),f("div",Oe,[r("div",Ce,[r("div",Ae,[[2,3].includes(a.order.status)?(p(),f("div",Me,"Perlu Dikirim")):y("",!0),a.order.status==4?(p(),f("div",Le,"Dikirim")):y("",!0),a.order.status==5?(p(),f("div",Be,"Selesai")):y("",!0),a.order.status==6?(p(),f("div",je,"Pembatalan")):y("",!0)]),Ee,r("div",Ne,m(a.order.code),1),ze,r("div",null,m(a.order.user),1),Fe,r("div",null,m(a.order.formatted_created_at),1),De,He]),r("div",Ve,[r("div",Ge,[r("div",qe,[(p(!0),f(W,null,te(a.order.order_details,o=>(p(),f("div",Re,[r("div",null,[r("img",{src:"/storage/products/"+o.code+"/"+o.photo,class:"w-14 border bg-white rounded p-1"},null,8,Ue)]),r("div",We,[r("div",Ke,m(o.name),1),r("div",Je,m(o.quantity)+"x "+m(o.color)+", "+m(o.size),1),r("div",null," Rp"+m(o.price.toLocaleString("id-ID")),1)])]))),256))]),r("div",Qe,[r("div",null,[Xe,r("div",Ye,[r("div",null,m(a.order.receiver_name)+" ("+m(a.order.receiver_phone)+")",1),r("div",null,m(a.order.receiver_address),1),r("div",null,m(a.order.district.name)+", "+m(a.order.city.name),1)])]),r("div",Ze,[r("div",null,[$e,r("div",et,[tt,a.order.payment_type=="cod"?(p(),f("div",at," COD ")):y("",!0)])]),a.order.shipping?(p(),f("div",st,[rt,r("div",lt,m(a.order.shipping.awb_no),1)])):y("",!0)])])]),r("div",nt,[r("div",ot,[it,E(" ("+m(a.order.total_quantity)+" Barang) ",1)]),r("div",dt,"Rp"+m(a.order.total_payment.toLocaleString("id-ID")),1)]),r("div",ut,[a.order.status==3?(p(),f("div",ct," Menunggu pick up ")):a.order.status==6?(p(),f("div",pt," Dibatalkan pada "+m(a.order.formatted_cancelled_at),1)):y("",!0),r("div",ft,[[3,4].includes(a.order.status)?(p(),f("button",{key:0,type:"button",onClick:d[0]||(d[0]=(...o)=>s.track&&s.track(...o)),class:"px-4 py-2 border rounded"}," Lacak Pesanan ")):y("",!0),[2,3].includes(a.order.status)?(p(),f("button",{key:1,type:"button",onClick:d[1]||(d[1]=(...o)=>s.cancel&&s.cancel(...o)),class:"px-4 py-2 border rounded"}," Batalkan Pesanan ")):y("",!0),a.order.status==3?(p(),f("button",{key:2,type:"button",onClick:d[2]||(d[2]=(...o)=>s.receipt&&s.receipt(...o)),class:"flex items-center gap-2 px-4 py-2 border rounded"},[w(u,{class:"w-4 h-4"}),vt])):y("",!0),a.order.status==2?(p(),f("button",{key:3,type:"button",onClick:d[3]||(d[3]=(...o)=>s.pickup&&s.pickup(...o)),class:"px-4 py-2 bg-lime-600 hover:bg-lime-700 text-white rounded"}," Atur Pengiriman ")):y("",!0)])])])])}const bt=ee(Te,[["render",mt]]),ht={data(){return{order:null,shipping:null,shippingIsOpen:!1,trackingIsOpen:!1}},components:{TabGroup:ye,TabList:ke,Tab:we,TabPanels:Ie,TabPanel:Pe,OrderCard:bt,Sidebar:pe,Shipping:fe,Tracking:ve},props:{orders:Object,address:Object,statusCounts:Number,flash:Object},methods:{openShippingModal(e){this.shippingIsOpen=!0,this.order=e},closeShippingModal(){this.shippingIsOpen=!1},openTrackingModal(e){this.trackingIsOpen=!0,this.order=e},closeTrackingModal(){this.trackingIsOpen=!1}},layout:ce},_t={class:"w-[85%] ms-auto px-10 pt-6 pb-12"},xt=r("div",{class:"text-xl font-semibold mb-6"},"Daftar Pesanan",-1),gt={class:"flex text-sm font-medium bg-white shadow rounded overflow-hidden px-4 mb-6"},yt={key:0},kt={key:0,class:"space-y-4"},wt={key:1,class:"text-center py-16 text-2xl text-slate-500 font-semibold"};function It(e,d,a,v,n,s){const u=L("Head"),o=L("Notif"),g=L("Shipping"),_=L("Tracking"),b=L("Sidebar"),c=L("Link"),C=L("OrderCard");return p(),f(W,null,[w(u,{title:"Daftar Pesanan"}),a.flash.error||a.flash.success?(p(),ue(o,{key:0,flash:a.flash},null,8,["flash"])):y("",!0),w(g,{isOpen:n.shippingIsOpen,onCloseModal:s.closeShippingModal,order:n.order},null,8,["isOpen","onCloseModal","order"]),w(_,{isOpen:n.trackingIsOpen,onCloseModal:s.closeTrackingModal,order:n.order},null,8,["isOpen","onCloseModal","order"]),w(b),r("div",_t,[xt,r("div",gt,[w(c,{href:e.route("orders.manage"),class:F(["relative p-4",e.$page.url==="/orders/manage"?"text-lime-600 after:bottom-0 after:left-0 after:border-b-[3px] after:absolute after:w-full after:border-lime-600":"text-gray-500"])},{default:z(()=>[E(" Semua ")]),_:1},8,["href","class"]),w(c,{href:e.route("orders.manage",{status:"perlu_dikirim"}),class:F(["relative p-4",e.$page.url==="/orders/manage?status=perlu_dikirim"?"text-lime-600 after:bottom-0 after:left-0 after:border-b-[3px] after:absolute after:w-full after:border-lime-600":"text-gray-500"])},{default:z(()=>[E(" Perlu Dikirim "),a.statusCounts[2]>0?(p(),f("span",yt,"("+m(a.statusCounts[2])+")",1)):y("",!0)]),_:1},8,["href","class"]),w(c,{href:e.route("orders.manage",{status:"dikirim"}),class:F(["relative p-4",e.$page.url==="/orders/manage?status=dikirim"?"text-lime-600 after:bottom-0 after:left-0 after:border-b-[3px] after:absolute after:w-full after:border-lime-600":"text-gray-500"])},{default:z(()=>[E(" Dikirim ")]),_:1},8,["href","class"]),w(c,{href:e.route("orders.manage",{status:"selesai"}),class:F(["relative p-4",e.$page.url==="/orders/manage?status=selesai"?"text-lime-600 after:bottom-0 after:left-0 after:border-b-[3px] after:absolute after:w-full after:border-lime-600":"text-gray-500"])},{default:z(()=>[E(" Selesai ")]),_:1},8,["href","class"]),w(c,{href:e.route("orders.manage",{status:"pembatalan"}),class:F(["relative p-4",e.$page.url==="/orders/manage?status=pembatalan"?"text-lime-600 after:bottom-0 after:left-0 after:border-b-[3px] after:absolute after:w-full after:border-lime-600":"text-gray-500"])},{default:z(()=>[E(" Pembatalan ")]),_:1},8,["href","class"])]),a.orders.length>0?(p(),f("div",kt,[(p(!0),f(W,null,te(a.orders,I=>(p(),f("div",null,[w(C,{order:I,onPickup:B=>s.openShippingModal(I),onTrack:B=>s.openTrackingModal(I)},null,8,["order","onPickup","onTrack"])]))),256))])):(p(),f("div",wt," Pesanan tidak ditemukan "))])],64)}const Et=ee(ht,[["render",It]]);export{Et as default};
