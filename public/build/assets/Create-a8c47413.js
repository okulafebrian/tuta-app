import{A as x}from"./AdminLayout-b0f32dd7.js";import{_ as y,T as v,r,o as l,c as n,a as m,d as g,e as k,b as e,w,v as C,F as p,h as T,t as c,j as M}from"./app-a0f2337f.js";import P from"./ProductList-9eee23ed.js";import{r as O}from"./TrashIcon-3d31009d.js";import"./XMarkIcon-3bb62fe2.js";import"./dialog-462821c4.js";import"./use-outside-click-eb249b35.js";const A={data(){return{isOpen:!1,isDisabled:!0}},props:{products:Object},components:{ProductList:P,TrashIcon:O},watch:{"form.products"(){this.isDisabled=!(this.form.products.length>0)}},methods:{openModal(){this.isOpen=!0},closeModal(d){this.isOpen=!1,d&&(this.form.products=d)},addCollection(){this.form.post(route("collections.store"))},removeProduct(d){this.form.products.splice(d,1),this.isDisabled=!(this.form.products.length>0)}},setup(){return{form:v({name:"",products:[]})}},layout:x},D={class:"w-3/4 mx-auto pt-6 pb-12"},N={class:"flex items-center justify-between mb-6"},L=e("div",{class:"text-xl font-semibold"},"Tambah Koleksi",-1),I=["disabled"],V={class:"bg-white p-8 rounded-md shadow mb-4"},j=e("div",{class:"text-sm font-medium mb-2"},"Nama Koleksi",-1),B={key:0,class:"bg-white p-8 rounded-md shadow"},H={class:"flex justify-between items-center mb-4"},K=e("div",{class:"text-lg font-semibold"},"Produk Terpilih",-1),R={class:"w-full"},S=e("thead",{class:"border-y"},[e("tr",{class:"text-left text-xs font-semibold"},[e("td",{class:"py-4 px-6"},"NAMA PRODUK"),e("td",{class:"py-4 px-6"},"HARGA"),e("td",{class:"py-4 px-6"},"PENJUALAN"),e("td",{class:"py-4 ps-6"})])],-1),U={class:"text-sm divide-y divide-gray-100"},E={class:"py-4 px-6"},F={class:"flex items-center gap-3"},G=["src"],J={class:"font-semibold line-clamp-2"},q={class:"text-xs"},z={class:"py-4 px-6"},Q=e("td",{class:"py-4 px-6"}," 2 ",-1),W={class:"py-4 px-6"},X=["onClick"],Y={key:1,class:"bg-white py-12 rounded-md shadow text-center"},Z=e("div",{class:"mb-6"},[e("div",{class:"text-lg font-semibold"},"Isi dulu koleksinya"),e("div",{class:"text-sm"},"Pilih produk yang sesuai dengan nama koleksi")],-1);function $(d,s,u,i,a,o){const h=r("Head"),b=r("ProductList"),_=r("TrashIcon");return l(),n(p,null,[m(h,{title:"Tambah Koleksi"}),a.isOpen?(l(),g(b,{key:0,isOpen:a.isOpen,onCloseModal:o.closeModal,products:u.products,selected:i.form.products},null,8,["isOpen","onCloseModal","products","selected"])):k("",!0),e("div",D,[e("div",N,[L,e("div",null,[e("button",{type:"button",onClick:s[0]||(s[0]=(...t)=>o.addCollection&&o.addCollection(...t)),disabled:a.isDisabled,class:"px-8 py-2 rounded bg-lime-600 hover:bg-lime-700 disabled:bg-slate-300 disabled:text-slate-500 text-sm font-semibold text-white"}," Selesai ",8,I)])]),e("div",V,[j,w(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>i.form.name=t),type:"text",class:"border-gray-300 rounded-lg w-full text-sm",placeholder:"Tulis nama koleksi disini"},null,512),[[C,i.form.name]])]),i.form.products.length>0?(l(),n("div",B,[e("div",H,[K,e("div",null,[e("button",{type:"button",onClick:s[2]||(s[2]=(...t)=>o.openModal&&o.openModal(...t)),class:"border border-lime-600 rounded-md px-4 py-2 font-semibold text-sm text-lime-600"}," Tambah Produk ")])]),e("div",null,[e("table",R,[S,e("tbody",U,[(l(!0),n(p,null,T(i.form.products,(t,f)=>(l(),n("tr",null,[e("td",E,[e("div",F,[e("img",{src:"/storage/products/"+t.code+"/main/"+t.mainPhoto,class:"border rounded p-1 w-16 h-16"},null,8,G),e("div",null,[e("div",J,c(t.name),1),e("div",q,c(t.category.name),1)])])]),e("td",z," Rp"+c(t.price.toLocaleString("id-ID")),1),Q,e("td",W,[e("button",{type:"button",onClick:ee=>o.removeProduct(f),class:"flex items-center gap-1 font-semibold text-xs hover:text-lime-600 p-2 ms-auto"},[m(_,{class:"w-4 h-4 stroke-2 text-gray-500"}),M(" Hapus ")],8,X)])]))),256))])])])])):(l(),n("div",Y,[Z,e("button",{type:"button",onClick:s[3]||(s[3]=(...t)=>o.openModal&&o.openModal(...t)),class:"bg-lime-600 hover:bg-lime-700 text-white font-semibold px-10 py-2 rounded"}," Tambah Produk ")]))])],64)}const ae=y(A,[["render",$]]);export{ae as default};
