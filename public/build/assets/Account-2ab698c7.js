import{U as g}from"./UserLayout-8888f4ae.js";import{S as v}from"./Account-540d3ab4.js";import{_ as y,T as k,r as m,o as n,c as a,a as p,d as N,e as u,b as t,n as h,w as f,v as b,t as x,F as E}from"./app-a0f2337f.js";import"./dialog-462821c4.js";import"./use-outside-click-eb249b35.js";import"./MagnifyingGlassIcon-6744ffad.js";import"./XMarkIcon-9b5d6da3.js";import"./CheckCircleIcon-7c336ff1.js";const P={data(){return{showEditName:!1,showEditPhone:!1}},components:{Sidebar:v},props:{auth:Object,flash:Object},methods:{validateInput(){this.form.phone_number=this.form.phone_number.replace(/[^0-9]/g,""),this.form.phone_number.length>15&&(this.form.phone_number=this.form.phone_number.slice(0,15))},updateName(){this.form.post(route("account.update-name",this.auth.user),{preserveState:!1})},updatePhone(){this.form.post(route("account.update-phone",this.auth.user),{preserveState:!1})}},computed:{allowUpdatePhone(){const r=new Date(this.auth.user.phone_last_update_date),e=new Date;return Math.abs((e.getFullYear()-r.getFullYear())*12+(e.getMonth()-r.getMonth()))>=2}},setup(r){return{form:k({_method:"put",name:r.auth.user.name,phone_number:r.auth.user.phone_number})}},layout:g},D={class:"xl:px-36 py-10 flex flex-col xl:flex-row xl:gap-20"},B={class:"flex-1 p-4 xl:p-0"},C=t("div",{class:"hidden xl:block text-xl font-semibold mb-6"},"Biodata Diri",-1),S={class:"text-sm w-full"},U=t("div",{class:"font-semibold mb-1"},"Nama Lengkap",-1),j={key:0,class:"flex flex-col xl:flex-row xl:items-center justify-between gap-4"},V={class:"flex gap-3"},F={key:1},I={class:"text-sm w-full"},M=t("div",{class:"font-semibold mb-1"},"Nomor HP",-1),H={key:0,class:"flex flex-col xl:flex-row xl:items-center justify-between gap-4"},L={class:"flex gap-3"},O={class:"flex gap-2"},T={key:1};function Y(r,e,i,d,s,l){const c=m("Head"),w=m("Notif"),_=m("Sidebar");return n(),a(E,null,[p(c,{title:"Biodata Diri"}),i.flash.error||i.flash.success?(n(),N(w,{key:0,flash:i.flash},null,8,["flash"])):u("",!0),t("div",D,[p(_),t("div",B,[C,t("div",{class:h(["flex justify-between items-center rounded-2xl p-4 xl:p-6 mb-4",s.showEditName?"bg-gray-100":"border"])},[t("div",S,[U,s.showEditName?(n(),a("div",j,[f(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>d.form.name=o),placeholder:"Nama Depan & Nama Belakang",class:"border-gray-300 rounded-lg text-sm"},null,512),[[b,d.form.name]]),t("div",V,[t("button",{type:"button",onClick:e[1]||(e[1]=o=>s.showEditName=!1),class:"border border-gray-300 bg-white rounded-full px-6 py-2 font-semibold text-sm w-1/2 xl:w-auto"}," Batal "),t("button",{type:"button",onClick:e[2]||(e[2]=(...o)=>l.updateName&&l.updateName(...o)),class:"bg-lime-600 hover:bg-lime-700 text-white rounded-full px-4 py-2 font-semibold text-sm w-1/2 xl:w-auto"}," Simpan ")])])):(n(),a("div",F,x(i.auth.user.name),1))]),s.showEditName?u("",!0):(n(),a("button",{key:0,type:"button",onClick:e[3]||(e[3]=o=>s.showEditName=!0),class:"text-sm font-semibold text-lime-600 hover:text-lime-700 p-2"}," Edit "))],2),t("div",{class:h(["flex justify-between items-center rounded-2xl p-4 xl:p-6 mb-4",s.showEditPhone?"bg-gray-100":"border"])},[t("div",I,[M,s.showEditPhone?(n(),a("div",H,[t("div",L,[f(t("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=o=>d.form.phone_number=o),onInput:e[5]||(e[5]=(...o)=>l.validateInput&&l.validateInput(...o)),class:"border-gray-300 rounded-lg text-sm w-full xl:w-auto",required:""},null,544),[[b,d.form.phone_number]])]),t("div",O,[t("button",{type:"button",onClick:e[6]||(e[6]=o=>s.showEditPhone=!1),class:"border border-gray-300 bg-white rounded-full px-6 py-2 font-semibold text-sm w-1/2 xl:w-auto"}," Batal "),t("button",{type:"button",onClick:e[7]||(e[7]=(...o)=>l.updatePhone&&l.updatePhone(...o)),class:"bg-lime-600 hover:bg-lime-700 disabled:bg-slate-200 disabled:text-slate-500 text-white rounded-full px-4 py-2 font-semibold text-sm w-1/2 xl:w-auto"}," Simpan ")])])):(n(),a("div",T,x(i.auth.user.phone_number),1))]),!s.showEditPhone&&l.allowUpdatePhone?(n(),a("button",{key:0,type:"button",onClick:e[8]||(e[8]=o=>s.showEditPhone=!0),class:"text-sm font-semibold text-lime-600 hover:text-lime-700 p-2"}," Edit ")):u("",!0)],2)])])],64)}const W=y(P,[["render",Y]]);export{W as default};
