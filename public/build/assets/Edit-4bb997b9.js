import{_ as P,S as D,i as z,T,r as f,o as l,d as V,f as m,a as _,b as e,j as k,w as n,v as b,t as c,k as u,c as r,h as p,F as v}from"./app-e00fb960.js";import{r as U}from"./XMarkIcon-e47da2f3.js";import{U as M,G as N,V as A}from"./dialog-ed01fe28.js";import"./use-outside-click-2a9cf22d.js";const B={data(){return{provinces:"",cities:"",districts:"",zipCodes:"",initial1:!0,initial2:!0,initial3:!0}},components:{TransitionRoot:D,TransitionChild:z,Dialog:M,DialogPanel:N,DialogTitle:A,XMarkIcon:U},props:{isOpen:Boolean,address:Object},methods:{validateName(o){this.form.name.length>o&&(this.form.name=this.form.name.slice(0,o))},validateAddress(o){this.form.detail.length>o&&(this.form.detail=this.form.detail.slice(0,o))},validatePhone(){this.form.phone_number=this.form.phone_number.replace(/[^0-9]/g,""),this.form.phone_number.length>15&&(this.form.phone_number=this.form.phone_number.slice(0,15))},closeModal(){this.$emit("closeModal"),this.initial1=!0,this.initial2=!0,this.initial3=!0},updateAddress(){this.form.put(route("addresses.update",this.address),{preserveState:!1})},getProvinces(){axios.get(route("provinces.load")).then(o=>{this.provinces=o.data.provinces.sort((i,d)=>i.name.localeCompare(d.name))})},getCities(){this.form.province_id&&axios.get(route("cities.load",this.form.province_id)).then(o=>{this.cities=o.data.cities.sort((i,d)=>i.name.localeCompare(d.name))}),this.initial1?this.initial1=!1:this.form.city_id=""},getDistricts(){this.form.city_id&&axios.get(route("districts.load",this.form.city_id)).then(o=>{this.districts=o.data.districts.sort((i,d)=>i.name.localeCompare(d.name))}),this.initial2?this.initial2=!1:this.form.district_id=""},getZipCodes(){this.form.district_id&&axios.get(route("zip-codes.load",this.form.district_id)).then(o=>{this.zipCodes=o.data.zipCodes.sort((i,d)=>i.name.localeCompare(d.name))}),this.initial3?this.initial3=!1:this.form.zip_code_id=""}},watch:{isOpen(){this.form.name=this.address.name,this.form.phone_number=this.address.phone_number,this.form.province_id=this.address.province.id,this.form.city_id=this.address.city.id,this.form.district_id=this.address.district.id,this.form.zip_code_id=this.address.zip_code.id,this.form.detail=this.address.detail,this.getProvinces()},"form.province_id"(){this.getCities()},"form.city_id"(){this.getDistricts()},"form.district_id"(){this.getZipCodes()}},computed:{isFormComplete(){return Object.values(this.form).every(o=>o!=="")}},setup(){return{form:T({name:"",phone_number:"",province_id:"",city_id:"",district_id:"",zip_code_id:"",detail:""})}}},K=e("div",{class:"fixed inset-0 bg-black bg-opacity-50"},null,-1),S={class:"fixed inset-0 top-0 overflow-y-auto"},j={class:"flex justify-center"},O={class:"py-6"},F={class:"mb-4"},I=e("div",{class:"font-semibold text-sm mb-2"},"Nama Lengkap",-1),L={class:"text-right text-xs text-gray-500 mt-1"},R={class:"mb-8"},E=e("div",{class:"font-semibold text-sm mb-2"},"Nomor HP",-1),G={class:"mb-8"},Z=e("div",{class:"font-semibold text-sm mb-2"},"Provinsi",-1),H=e("option",{value:"",disabled:""},"Pilih Provinsi",-1),X=["value"],q={class:"mb-8"},J=e("div",{class:"font-semibold text-sm mb-2"},"Kota",-1),Q=["disabled"],W=e("option",{value:"",disabled:""},"Pilih Kota",-1),Y=["value"],$={class:"mb-8"},ee=e("div",{class:"font-semibold text-sm mb-2"},"Kecamatan",-1),te=["disabled"],ie=e("option",{value:"",disabled:""},"Pilih Kecamatan",-1),se=["value"],oe={class:"mb-8"},de=e("div",{class:"font-semibold text-sm mb-2"},"Kode Pos",-1),ae=["disabled"],le=e("option",{value:"",disabled:""},"Pilih Kode Pos",-1),re=["value"],ne=e("div",{class:"font-semibold text-sm mb-2"},"Alamat Lengkap",-1),me={class:"text-right text-xs text-gray-500"},ce={class:"flex xl:justify-end gap-2 py-2"},fe=["disabled"];function _e(o,i,d,s,h,a){const x=f("TransitionChild"),g=f("DialogTitle"),y=f("DialogPanel"),w=f("Dialog"),C=f("TransitionRoot");return l(),V(C,{appear:"",show:d.isOpen,as:"template"},{default:m(()=>[_(w,{as:"div",class:"relative z-10"},{default:m(()=>[_(x,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:m(()=>[K]),_:1}),e("div",S,[e("div",j,[_(x,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-300 ease-out","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:m(()=>[_(y,{class:"w-full xl:w-[45%] xl:rounded-md flex flex-col xl:my-6 transform bg-white align-middle shadow-xl transition-all px-4 xl:px-8 py-6"},{default:m(()=>[_(g,{class:"text-xl text-center font-bold"},{default:m(()=>[k(" Ubah Alamat ")]),_:1}),e("div",O,[e("div",F,[I,n(e("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>s.form.name=t),onInput:i[1]||(i[1]=t=>a.validateName(30)),type:"text",class:"text-sm border-gray-300 rounded-md w-full"},null,544),[[b,s.form.name]]),e("div",L,c(s.form.name.length)+"/30 ",1)]),e("div",R,[E,n(e("input",{"onUpdate:modelValue":i[2]||(i[2]=t=>s.form.phone_number=t),onInput:i[3]||(i[3]=(...t)=>a.validatePhone&&a.validatePhone(...t)),type:"text",placeholder:"08xxxxxxxxxx",class:"text-sm border-gray-300 rounded-md w-full"},null,544),[[b,s.form.phone_number]])]),e("div",G,[Z,n(e("select",{"onUpdate:modelValue":i[4]||(i[4]=t=>s.form.province_id=t),class:"text-sm border-gray-300 rounded-md w-full"},[H,(l(!0),r(v,null,p(h.provinces,t=>(l(),r("option",{value:t.id},c(t.name),9,X))),256))],512),[[u,s.form.province_id]])]),e("div",q,[J,n(e("select",{"onUpdate:modelValue":i[5]||(i[5]=t=>s.form.city_id=t),class:"text-sm border-gray-300 rounded-md w-full disabled:bg-slate-200",disabled:!s.form.province_id},[W,(l(!0),r(v,null,p(h.cities,t=>(l(),r("option",{value:t.id},c(t.name),9,Y))),256))],8,Q),[[u,s.form.city_id]])]),e("div",$,[ee,n(e("select",{"onUpdate:modelValue":i[6]||(i[6]=t=>s.form.district_id=t),class:"text-sm border-gray-300 rounded-md w-full disabled:bg-slate-200",disabled:!s.form.city_id},[ie,(l(!0),r(v,null,p(h.districts,t=>(l(),r("option",{value:t.id},c(t.name),9,se))),256))],8,te),[[u,s.form.district_id]])]),e("div",oe,[de,n(e("select",{"onUpdate:modelValue":i[7]||(i[7]=t=>s.form.zip_code_id=t),class:"text-sm border-gray-300 rounded-md w-full disabled:bg-slate-200",disabled:!s.form.district_id},[le,(l(!0),r(v,null,p(h.zipCodes,t=>(l(),r("option",{value:t.id},c(t.name),9,re))),256))],8,ae),[[u,s.form.zip_code_id]])]),e("div",null,[ne,n(e("textarea",{rows:"3","onUpdate:modelValue":i[8]||(i[8]=t=>s.form.detail=t),onInput:i[9]||(i[9]=t=>a.validateName(200)),class:"text-sm border-gray-300 rounded-md w-full resize-none"},null,544),[[b,s.form.detail]]),e("div",me,c(s.form.detail.length)+"/200 ",1)])]),e("div",ce,[e("button",{type:"button",onClick:i[10]||(i[10]=(...t)=>a.closeModal&&a.closeModal(...t)),class:"px-8 py-2 rounded-full border font-semibold w-1/2 xl:w-auto"}," Batal "),e("button",{type:"button",onClick:i[11]||(i[11]=(...t)=>a.updateAddress&&a.updateAddress(...t)),disabled:!a.isFormComplete,class:"px-8 py-2 rounded-full bg-lime-600 hover:bg-lime-700 disabled:bg-slate-200 disabled:text-slate-500 font-semibold text-white w-1/2 xl:w-auto"}," Simpan ",8,fe)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])}const be=P(B,[["render",_e]]);export{be as default};
