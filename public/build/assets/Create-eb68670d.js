import{A as j}from"./AdminLayout-e0f3cfa6.js";import{o as r,c as a,b as e,_ as C,T as R,r as v,a as _,F as h,f as u,g as f,v as x,h as L,n as S,w as M,j as d,d as B,t as p,l as k,e as P}from"./app-a798eb3e.js";import{E as D,r as E,I as F}from"./ImagePreview-b00664fa.js";import{r as T}from"./XMarkIcon-0e49dc25.js";import"./CheckCircleIcon-b26d9947.js";function N(l,t){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})])}const O={components:{Editor:D,XMarkIcon:T,PlusIcon:N,PhotoIcon:E,ImagePreview:F},props:{categories:Object,colors:Object,sizes:Object},watch:{"form.colors":"updateVariant","form.sizes":"updateVariant"},methods:{formattedPrice(){let l=this.form.price.replace(/\D/g,"");l=l.replace(/\B(?=(\d{3})+(?!\d))/g,"."),this.form.price=l},updateVariant(){for(const l of this.form.colors){this.form.stocks[l.id]={};for(const t of this.form.sizes)this.form.stocks[l.id][t.id]=null}this.form.colors.forEach((l,t)=>{this.form.variant_photos[t]="",this.form.stocks[l.id]={},this.form.sizes.forEach(n=>{this.form.stocks[l.id][n.id]={index:t,size:n}})})},handleImageUpload(l,t){t==="main"?this.form.main_photos[l]={url:URL.createObjectURL(event.target.files[0]),item:event.target.files[0]}:this.form.variant_photos[l]={url:URL.createObjectURL(event.target.files[0]),item:event.target.files[0]};const n=event.target;if(n.files&&n.files[0]){const o=new FileReader;o.onload=U=>{},o.readAsDataURL(n.files[0]),t==="main"&&this.form.main_photos.length<5&&this.form.main_photos.push("")}},removePhoto(l,t){t==="main"?(this.form.main_photos.splice(l,1),(this.form.main_photos.length===0||this.form.main_photos[this.form.main_photos.length-1]!=="")&&this.form.main_photos.push("")):this.form.variant_photos[l]=""},addShoe(){this.form.price=this.form.price.replace(/\D/g,""),this.form.post(route("shoes.store"),{preserveScroll:!0})}},setup(){return{form:R({main_photos:[""],category:"",name:"",code:"",price:"",description:"",sizes:[],colors:[],variant_photos:[""],stocks:{}})}},layout:j},A={class:"px-40 py-10"},H=e("div",{class:"text-xl font-semibold mb-6"},"Tambah Produk",-1),K={class:"bg-white p-8 space-y-6 rounded-lg shadow-sm mb-6"},W=e("div",{class:"font-semibold mb-6"},"Informasi Produk",-1),X={class:"text-sm flex items-baseline"},q=e("div",{class:"w-1/6"},[d("Foto Produk "),e("span",{class:"text-red-500"},"*")],-1),G={class:"flex-1"},J=e("div",{class:"mb-2"},"Rasio foto 1:1 (persegi)",-1),Q={class:"flex gap-2"},Y=["for"],Z={class:"h-24 w-24 flex flex-col gap-2 items-center justify-center rounded-md border border-dashed border-gray-300 hover:border-lime-600 text-zinc-500 hover:text-lime-600 overflow-hidden"},$={class:"text-xs"},ee=["id","onChange"],se={class:"text-sm flex items-center"},te=e("div",{class:"w-1/6"},[d("Nama Produk "),e("span",{class:"text-red-500"},"*")],-1),oe={class:"text-sm flex items-center"},re=e("div",{class:"w-1/6"},[d("Kode Produk "),e("span",{class:"text-red-500"},"*")],-1),ae={class:"text-sm flex items-center"},ie=e("div",{class:"w-1/6"},[d("Kategori Produk "),e("span",{class:"text-red-500"},"*")],-1),le=e("option",{disabled:"",value:""},"Pilih kategori",-1),de=["value"],ne={class:"text-sm flex items-center"},ce=e("div",{class:"w-1/6"},[d("Harga "),e("span",{class:"text-red-500"},"*")],-1),me={class:"flex-1 flex items-center border border-gray-200 bg-gray-100 rounded-md overflow-hidden w-fit"},he=e("div",{class:"text-sm text-gray-500 font-semibold px-3"},"Rp",-1),fe={class:"text-sm flex items-baseline"},_e=e("div",{class:"w-1/6"},[d("Deskripsi Produk "),e("span",{class:"text-red-500"},"*")],-1),ue={class:"bg-white p-8 rounded-lg shadow-sm mb-6"},pe=e("div",{class:"font-semibold mb-6"},"Informasi Penjualan",-1),ve={class:"flex items-baseline mb-8"},xe=e("div",{class:"w-1/6 text-sm font-medium"},[d("Warna "),e("span",{class:"text-red-500"},"*")],-1),be={class:"w-5/6 grid grid-cols-7 gap-y-4"},ge={class:"flex items-center"},ye=["value","id"],we=["for"],ke={class:"flex items-baseline mb-8"},Pe=e("div",{class:"w-1/6 text-sm font-medium"},[d("Ukuran "),e("span",{class:"text-red-500"},"*")],-1),Ue={class:"w-5/6 grid grid-cols-7"},Ve={class:"flex items-center"},Ie=["value","id"],ze=["for"],je={class:"flex items-baseline"},Ce=e("div",{class:"w-1/6 text-sm font-medium"},"Daftar variasi",-1),Re={class:"w-5/6"},Le={class:"border overflow-hidden rounded-md text-sm"},Se={class:"table-fixed w-full"},Me=e("thead",{class:"font-semibold bg-gray-100 text-gray-500"},[e("tr",{class:"divide-x"},[e("td",{class:"px-3 py-2"},[d("Foto Produk "),e("span",{class:"text-red-500"},"*")]),e("td",{class:"px-3 py-2"},"Warna"),e("td",{class:"px-3 py-2"},"Ukuran"),e("td",{class:"px-3 py-2"},[d("Stok "),e("span",{class:"text-red-500"},"*")])])],-1),Be=["rowspan"],De=["for"],Ee={class:"h-24 w-24 flex flex-col gap-2 items-center justify-center rounded-md border border-dashed border-gray-300 hover:border-lime-600 text-zinc-500 hover:text-lime-600 overflow-hidden"},Fe=e("div",{class:"text-xs"},"Tambah Foto",-1),Te=["id","onChange"],Ne=["rowspan"],Oe={class:"px-3 border-l"},Ae={class:"border-l"},He=["onUpdate:modelValue"],Ke={class:"flex justify-end gap-3 py-2 text-sm"};function We(l,t,n,o,U,m){const V=v("Head"),g=v("ImagePreview"),y=v("PhotoIcon"),I=v("Editor"),z=v("Link");return r(),a(h,null,[_(V,{title:"Tambah Produk"}),e("div",A,[H,e("div",K,[W,e("div",X,[q,e("div",G,[J,e("div",Q,[(r(!0),a(h,null,u(o.form.main_photos,(s,i)=>(r(),a("div",{key:i},[s?(r(),B(g,{key:0,source:s.url,onRemovePhoto:c=>m.removePhoto(i,"main")},null,8,["source","onRemovePhoto"])):(r(),a("label",{key:1,for:"mainPhotos"+i,class:"flex flex-col items-center justify-center cursor-pointer"},[e("div",Z,[_(y,{class:"w-8 h-8"}),e("div",$,"Foto "+p(i==0?"Sampul":"("+i+"/5)"),1)]),e("input",{id:"mainPhotos"+i,type:"file",class:"hidden",onChange:c=>m.handleImageUpload(i,"main")},null,40,ee)],8,Y))]))),128))])])]),e("div",se,[te,f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.form.name=s),type:"text",class:"text-sm w-5/6 border-gray-200 rounded-md placeholder:text-neutral-400",placeholder:"Mohon masukkan"},null,512),[[x,o.form.name]])]),e("div",oe,[re,f(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.form.code=s),type:"text",class:"text-sm w-5/6 border-gray-200 rounded-md placeholder:text-neutral-400",placeholder:"Mohon masukkan"},null,512),[[x,o.form.code]])]),e("div",ae,[ie,f(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>o.form.category=s),class:S(["text-sm border-gray-200 rounded-md w-5/6",{"text-gray-400":o.form.category===""}])},[le,(r(!0),a(h,null,u(n.categories,s=>(r(),a("option",{value:s.id,key:s.id,class:"text-black"},p(s.name),9,de))),128))],2),[[L,o.form.category]])]),e("div",ne,[ce,e("div",me,[he,f(e("input",{type:"text",class:"text-sm border-0 focus:ring-0 w-full","onUpdate:modelValue":t[3]||(t[3]=s=>o.form.price=s),onInput:t[4]||(t[4]=(...s)=>m.formattedPrice&&m.formattedPrice(...s))},null,544),[[x,o.form.price]])])]),e("div",fe,[_e,_(I,{modelValue:o.form.description,"onUpdate:modelValue":t[5]||(t[5]=s=>o.form.description=s),class:"w-5/6"},null,8,["modelValue"])])]),e("div",ue,[pe,e("div",ve,[xe,e("div",be,[(r(!0),a(h,null,u(n.colors,(s,i)=>(r(),a("div",ge,[f((r(),a("input",{"onUpdate:modelValue":t[6]||(t[6]=c=>o.form.colors=c),key:i,value:s,id:"color"+i,type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-200 rounded focus:ring-blue-500"},null,8,ye)),[[k,o.form.colors]]),e("label",{for:"color"+i,class:"ml-2 text-sm select-none"},p(s.name),9,we)]))),256))])]),e("div",ke,[Pe,e("div",Ue,[(r(!0),a(h,null,u(n.sizes,(s,i)=>(r(),a("div",Ve,[f((r(),a("input",{"onUpdate:modelValue":t[7]||(t[7]=c=>o.form.sizes=c),key:i,value:s,id:"size"+i,type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-200 rounded focus:ring-blue-500"},null,8,Ie)),[[k,o.form.sizes]]),e("label",{for:"size"+i,class:"ml-2 text-sm select-none"},p(s.name),9,ze)]))),256))])]),e("div",je,[Ce,e("div",Re,[e("div",Le,[e("table",Se,[Me,e("tbody",null,[(r(!0),a(h,null,u(o.form.colors,(s,i)=>(r(),a(h,null,[(r(!0),a(h,null,u(o.form.sizes,(c,w)=>(r(),a("tr",{key:`${s.id}-${c.id}`,class:"border-t"},[w===0?(r(),a("td",{key:0,class:"py-2 px-3",rowspan:o.form.sizes.length},[o.form.variant_photos[i]?(r(),a("div",{key:s.id,class:"flex justify-center"},[_(g,{source:o.form.variant_photos[i].url,onRemovePhoto:b=>m.removePhoto(i,"variant")},null,8,["source","onRemovePhoto"])])):(r(),a("label",{key:1,for:"variant_photos"+s.id,class:"flex flex-col items-center cursor-pointer"},[e("div",Ee,[_(y,{class:"w-8 h-8"}),Fe]),e("input",{id:"variant_photos"+s.id,type:"file",class:"hidden",onChange:b=>m.handleImageUpload(i,"variant")},null,40,Te)],8,De))],8,Be)):P("",!0),w===0?(r(),a("td",{key:1,class:"px-3 border-l",rowspan:o.form.sizes.length},p(s.name),9,Ne)):P("",!0),e("td",Oe,p(c.name),1),e("td",Ae,[f(e("input",{"onUpdate:modelValue":b=>o.form.stocks[s.id][c.id]=b,type:"number",placeholder:"Mohon masukkan",class:"border-0 text-sm w-full focus:ring-0 placeholder:text-neutral-400"},null,8,He),[[x,o.form.stocks[s.id][c.id]]])])]))),128))],64))),256))])])])])])]),e("div",Ke,[_(z,{href:l.route("shoes.index"),class:"ring-1 ring-gray-200 bg-white hover:bg-gray-50 font-semibold py-2.5 px-10 rounded-md"},{default:M(()=>[d(" Batal ")]),_:1},8,["href"]),e("button",{type:"button",onClick:t[8]||(t[8]=(...s)=>m.addShoe&&m.addShoe(...s)),class:"bg-lime-600 hover:bg-lime-700 disabled:bg-lime-500/50 text-white font-semibold py-2.5 px-10 rounded-md"}," Simpan ")])])],64)}const Ye=C(O,[["render",We]]);export{Ye as default};
