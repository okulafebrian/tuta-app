import{_ as M,T as k,r,o as a,d as z,w as m,a as c,b as t,g as n,v as x,t as _,h as f,c as l,f as h,F as u}from"./app-a798eb3e.js";import{r as P}from"./XMarkIcon-8c8ee21b.js";import{S as D,h as V,U,G as I,V as A}from"./transition-6367855b.js";import"./focus-management-2fce0f0b.js";import"./micro-task-84f21bb7.js";import"./use-outside-click-e3d89dfb.js";const B={data(){return{cities:"",districts:"",zipCodes:"",initial1:!0,initial2:!0,initial3:!0}},components:{TransitionRoot:D,TransitionChild:V,Dialog:U,DialogPanel:I,DialogTitle:A,XMarkIcon:P},props:{isOpen:Boolean,provinces:Object,address:Object},methods:{limitText(o,i){this.address[o].length>i&&(this.address[o]=this.address[o].slice(0,i))},validateInput(){this.form.phone=this.form.phone.replace(/[^0-9]/g,""),this.form.phone.length>15&&(this.form.phone=this.form.phone.slice(0,15))},closeModal(){this.$emit("closeModal"),this.initial1=!0,this.initial2=!0,this.initial3=!0},updateAddress(){this.form.put(route("addresses.update",this.address),{onSuccess:()=>this.closeModal()})}},watch:{"form.province_id"(){this.form.province_id&&axios.get(route("cities.load",this.form.province_id)).then(o=>this.cities=o.data.cities),this.initial1?this.initial1=!1:this.form.city_id=""},"form.city_id"(){this.form.city_id&&axios.get(route("districts.load",this.form.city_id)).then(o=>this.districts=o.data.districts),this.initial2?this.initial2=!1:this.form.district_id=""},"form.district_id"(){this.form.district_id&&axios.get(route("zip-codes.load",this.form.district_id)).then(o=>this.zipCodes=o.data.zipCodes),this.initial3?this.initial3=!1:this.form.zip_code_id=""},address(){this.form.name=this.address.name,this.form.phone=this.address.phone.replace("+62","0"),this.form.province_id=this.address.province_id,this.form.city_id=this.address.city_id,this.form.district_id=this.address.district_id,this.form.zip_code_id=this.address.zip_code_id,this.form.detail=this.address.detail}},setup(){return{form:k({name:"",phone:"",province_id:"",city_id:"",district_id:"",zip_code_id:"",detail:""})}}},K=t("div",{class:"fixed inset-0 bg-black bg-opacity-50"},null,-1),S={class:"fixed inset-0 top-0"},j={class:"flex h-screen justify-center"},N=t("div",{class:"text-xl xl:text-2xl font-semibold flex-1"}," Ubah Alamat ",-1),O={class:"px-8 pb-6 overflow-y-auto"},L={class:"mb-3"},R=t("div",{class:"font-semibold text-sm mb-2"},"Nama Lengkap",-1),X={class:"text-right text-xs text-gray-500 mt-1"},E={class:"mb-6"},F=t("div",{class:"font-semibold text-sm mb-2"},"Nomor HP",-1),G={class:"mb-6"},H=t("div",{class:"font-semibold text-sm mb-2"},"Provinsi",-1),q=t("option",{value:"",disabled:""},"Pilih Provinsi",-1),J=["value"],Q={class:"mb-6"},W=t("div",{class:"font-semibold text-sm mb-2"},"Kota",-1),Y=["disabled"],Z=t("option",{value:"",disabled:""},"Pilih Kota",-1),$=["value"],tt={class:"mb-6"},et=t("div",{class:"font-semibold text-sm mb-2"},"Kecamatan",-1),it=["disabled"],st=t("option",{value:"",disabled:""},"Pilih Kecamatan",-1),ot=["value"],dt={class:"mb-6"},at=t("div",{class:"font-semibold text-sm mb-2"},"Kode Pos",-1),lt=["disabled"],nt=t("option",{value:"",disabled:""},"Pilih Kode Pos",-1),rt=["value"],mt={class:"mb-3"},ct=t("div",{class:"font-semibold text-sm mb-2"},"Alamat Lengkap",-1),_t={class:"text-right text-xs text-gray-500"},ft={class:"px-8 py-6 bg-white text-end"};function ht(o,i,v,s,p,d){const b=r("TransitionChild"),g=r("XMarkIcon"),y=r("DialogTitle"),w=r("DialogPanel"),T=r("Dialog"),C=r("TransitionRoot");return a(),z(C,{appear:"",show:v.isOpen,as:"template"},{default:m(()=>[c(T,{as:"div",onClose:d.closeModal,class:"relative z-10"},{default:m(()=>[c(b,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:m(()=>[K]),_:1}),t("div",S,[t("div",j,[c(b,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-300 ease-out","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:m(()=>[c(w,{class:"w-full xl:w-1/2 xl:rounded-2xl overflow-hidden flex flex-col xl:my-5 transform bg-white align-middle shadow-xl transition-all"},{default:m(()=>[c(y,{class:"flex justify-between items-center px-8 py-6"},{default:m(()=>[N,t("button",{type:"button",onClick:i[0]||(i[0]=(...e)=>d.closeModal&&d.closeModal(...e))},[c(g,{class:"w-6 h-6"})])]),_:1}),t("div",O,[t("div",L,[R,n(t("input",{"onUpdate:modelValue":i[1]||(i[1]=e=>s.form.name=e),onInput:i[2]||(i[2]=e=>d.limitText("name",30)),type:"text",class:"text-sm border-gray-300 rounded-md w-full"},null,544),[[x,s.form.name]]),t("div",X,_(s.form.name.length)+"/30 ",1)]),t("div",E,[F,n(t("input",{"onUpdate:modelValue":i[3]||(i[3]=e=>s.form.phone=e),onInput:i[4]||(i[4]=(...e)=>d.validateInput&&d.validateInput(...e)),type:"text",placeholder:"08xxxxxxxxxx",class:"text-sm border-gray-300 rounded-md w-full"},null,544),[[x,s.form.phone]])]),t("div",G,[H,n(t("select",{"onUpdate:modelValue":i[5]||(i[5]=e=>s.form.province_id=e),class:"text-sm border-gray-300 rounded-md w-full"},[q,(a(!0),l(u,null,h(v.provinces,e=>(a(),l("option",{value:e.id},_(e.name),9,J))),256))],512),[[f,s.form.province_id]])]),t("div",Q,[W,n(t("select",{"onUpdate:modelValue":i[6]||(i[6]=e=>s.form.city_id=e),class:"text-sm border-gray-300 rounded-md w-full disabled:bg-slate-200",disabled:!s.form.province_id},[Z,(a(!0),l(u,null,h(p.cities,e=>(a(),l("option",{value:e.id},_(e.name),9,$))),256))],8,Y),[[f,s.form.city_id]])]),t("div",tt,[et,n(t("select",{"onUpdate:modelValue":i[7]||(i[7]=e=>s.form.district_id=e),class:"text-sm border-gray-300 rounded-md w-full disabled:bg-slate-200",disabled:!s.form.city_id},[st,(a(!0),l(u,null,h(p.districts,e=>(a(),l("option",{value:e.id},_(e.name),9,ot))),256))],8,it),[[f,s.form.district_id]])]),t("div",dt,[at,n(t("select",{"onUpdate:modelValue":i[8]||(i[8]=e=>s.form.zip_code_id=e),class:"text-sm border-gray-300 rounded-md w-full disabled:bg-slate-200",disabled:!s.form.district_id},[nt,(a(!0),l(u,null,h(p.zipCodes,e=>(a(),l("option",{value:e.id},_(e.name),9,rt))),256))],8,lt),[[f,s.form.zip_code_id]])]),t("div",mt,[ct,n(t("textarea",{rows:"3","onUpdate:modelValue":i[9]||(i[9]=e=>s.form.detail=e),onInput:i[10]||(i[10]=e=>d.limitText("detail",200)),class:"text-sm border-gray-300 rounded-md w-full resize-none"},null,544),[[x,s.form.detail]]),t("div",_t,_(s.form.detail.length)+"/200 ",1)])]),t("div",ft,[t("button",{type:"button",onClick:i[11]||(i[11]=(...e)=>d.closeModal&&d.closeModal(...e)),class:"px-6 py-2 text-lime-700 hover:text-lime-600 font-semibold"}," Batal "),t("button",{type:"button",onClick:i[12]||(i[12]=(...e)=>d.updateAddress&&d.updateAddress(...e)),class:"px-6 py-2 rounded-full bg-lime-600 hover:bg-lime-700 font-medium text-white"}," Simpan ")])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])}const yt=M(B,[["render",ht]]);export{yt as default};
