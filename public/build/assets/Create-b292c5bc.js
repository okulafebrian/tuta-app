import{_ as k,T,K as P,r,o as a,d as V,w as m,a as c,b as e,g as l,v as x,t as _,h as f,c as n,f as u,F as h,l as D}from"./app-a798eb3e.js";import{r as z}from"./XMarkIcon-8c8ee21b.js";import{S as U,h as I,U as A,G as B,V as K}from"./transition-6367855b.js";import"./focus-management-2fce0f0b.js";import"./micro-task-84f21bb7.js";import"./use-outside-click-e3d89dfb.js";const S={data(){return{cities:"",districts:"",zipCodes:""}},components:{TransitionRoot:U,TransitionChild:I,Dialog:A,DialogPanel:B,DialogTitle:K,XMarkIcon:z},props:{isOpen:Boolean,provinces:Object},methods:{limitText(d,o){this.address[d].length>o&&(this.address[d]=this.address[d].slice(0,o))},validateInput(){this.form.phone=this.form.phone.replace(/[^0-9]/g,""),this.form.phone.length>15&&(this.form.phone=this.form.phone.slice(0,15))},afterModalClosed(){this.form.reset()},closeModal(){this.$emit("closeModal")},addAddress(){this.form.post(route("addresses.store"),{onSuccess:()=>this.closeModal(),preserveState:!1})}},watch:{"form.province_id"(){this.form.province_id&&axios.get(route("cities.load",this.form.province_id)).then(d=>this.cities=d.data.cities),this.form.city_id=""},"form.city_id"(){this.form.city_id&&axios.get(route("districts.load",this.form.city_id)).then(d=>this.districts=d.data.districts),this.form.district_id=""},"form.district_id"(){this.form.district_id&&axios.get(route("zip-codes.load",this.form.district_id)).then(d=>this.zipCodes=d.data.zipCodes),this.form.zip_code_id=""}},setup(){return{form:T({name:"",phone:"",province_id:"",city_id:"",district_id:"",zip_code_id:"",detail:"",is_main:!P().props.auth.user.main_address})}}},L=e("div",{class:"fixed inset-0 bg-black bg-opacity-50"},null,-1),N={class:"fixed inset-0 top-0"},j={class:"flex h-screen justify-center"},O=e("div",{class:"text-xl xl:text-2xl font-semibold flex-1"}," Alamat Baru ",-1),R={class:"px-8 pb-6 overflow-y-auto"},X={class:"mb-3"},F=e("div",{class:"font-semibold text-sm mb-2"},"Nama Lengkap",-1),G={class:"text-right text-xs text-gray-500 mt-1"},E={class:"mb-6"},H=e("div",{class:"font-semibold text-sm mb-2"},"Nomor HP",-1),J={class:"mb-6"},q=e("div",{class:"font-semibold text-sm mb-2"},"Provinsi",-1),Q=e("option",{value:"",disabled:""},"Pilih Provinsi",-1),W=["value"],Y={class:"mb-6"},Z=e("div",{class:"font-semibold text-sm mb-2"},"Kota",-1),$=["disabled"],ee=e("option",{value:"",disabled:""},"Pilih Kota",-1),te=["value"],oe={class:"mb-6"},se=e("div",{class:"font-semibold text-sm mb-2"},"Kecamatan",-1),ie=["disabled"],de=e("option",{value:"",disabled:""},"Pilih Kecamatan",-1),ae=["value"],le={class:"mb-6"},ne=e("div",{class:"font-semibold text-sm mb-2"},"Kode Pos",-1),re=["disabled"],me=e("option",{value:"",disabled:""},"Pilih Kode Pos",-1),ce=["value"],_e={class:"mb-3"},fe=e("div",{class:"font-semibold text-sm mb-2"},"Alamat Lengkap",-1),ue={class:"text-right text-xs text-gray-500"},he={class:"flex items-center"},pe=["disabled"],xe=e("label",{for:"set-main",class:"ml-3 font-medium select-none"}," Jadikan alamat utama ",-1),be={class:"px-8 py-6 bg-white text-end"};function ve(d,o,b,s,p,i){const v=r("TransitionChild"),g=r("XMarkIcon"),y=r("DialogTitle"),w=r("DialogPanel"),C=r("Dialog"),M=r("TransitionRoot");return a(),V(M,{appear:"",show:b.isOpen,as:"template",onAfterLeave:i.afterModalClosed},{default:m(()=>[c(C,{as:"div",onClose:i.closeModal,class:"relative z-10"},{default:m(()=>[c(v,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:m(()=>[L]),_:1}),e("div",N,[e("div",j,[c(v,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-300 ease-out","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:m(()=>[c(w,{class:"w-full xl:w-1/2 xl:rounded-2xl overflow-hidden flex flex-col xl:my-5 transform bg-white align-middle shadow-xl transition-all"},{default:m(()=>[c(y,{class:"flex justify-between items-center px-8 py-6"},{default:m(()=>[O,e("button",{type:"button",onClick:o[0]||(o[0]=(...t)=>i.closeModal&&i.closeModal(...t))},[c(g,{class:"w-6 h-6"})])]),_:1}),e("div",R,[e("div",X,[F,l(e("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>s.form.name=t),onInput:o[2]||(o[2]=t=>i.limitText("name",30)),type:"text",class:"text-sm border-gray-300 rounded-md w-full"},null,544),[[x,s.form.name]]),e("div",G,_(s.form.name.length)+"/30 ",1)]),e("div",E,[H,l(e("input",{"onUpdate:modelValue":o[3]||(o[3]=t=>s.form.phone=t),onInput:o[4]||(o[4]=(...t)=>i.validateInput&&i.validateInput(...t)),type:"text",placeholder:"08xxxxxxxxxx",class:"text-sm border-gray-300 rounded-md w-full"},null,544),[[x,s.form.phone]])]),e("div",J,[q,l(e("select",{"onUpdate:modelValue":o[5]||(o[5]=t=>s.form.province_id=t),class:"text-sm border-gray-300 rounded-md w-full"},[Q,(a(!0),n(h,null,u(b.provinces,t=>(a(),n("option",{value:t.id},_(t.name),9,W))),256))],512),[[f,s.form.province_id]])]),e("div",Y,[Z,l(e("select",{"onUpdate:modelValue":o[6]||(o[6]=t=>s.form.city_id=t),class:"text-sm border-gray-300 rounded-md w-full disabled:bg-slate-200",disabled:!s.form.province_id},[ee,(a(!0),n(h,null,u(p.cities,t=>(a(),n("option",{value:t.id},_(t.name),9,te))),256))],8,$),[[f,s.form.city_id]])]),e("div",oe,[se,l(e("select",{"onUpdate:modelValue":o[7]||(o[7]=t=>s.form.district_id=t),class:"text-sm border-gray-300 rounded-md w-full disabled:bg-slate-200",disabled:!s.form.city_id},[de,(a(!0),n(h,null,u(p.districts,t=>(a(),n("option",{value:t.id},_(t.name),9,ae))),256))],8,ie),[[f,s.form.district_id]])]),e("div",le,[ne,l(e("select",{"onUpdate:modelValue":o[8]||(o[8]=t=>s.form.zip_code_id=t),class:"text-sm border-gray-300 rounded-md w-full disabled:bg-slate-200",disabled:!s.form.district_id},[me,(a(!0),n(h,null,u(p.zipCodes,t=>(a(),n("option",{value:t.id},_(t.name),9,ce))),256))],8,re),[[f,s.form.zip_code_id]])]),e("div",_e,[fe,l(e("textarea",{rows:"3","onUpdate:modelValue":o[9]||(o[9]=t=>s.form.detail=t),onInput:o[10]||(o[10]=t=>i.limitText("detail",200)),class:"text-sm border-gray-300 rounded-md w-full resize-none"},null,544),[[x,s.form.detail]]),e("div",ue,_(s.form.detail.length)+"/200 ",1)]),e("div",he,[l(e("input",{id:"set-main",type:"checkbox","onUpdate:modelValue":o[11]||(o[11]=t=>s.form.is_main=t),disabled:!this.$page.props.auth.user.main_address,class:"w-4 h-4 text-lime-600 bg-gray-100 border-gray-300 rounded focus:ring-lime-500 disabled:text-lime-600/50"},null,8,pe),[[D,s.form.is_main]]),xe])]),e("div",be,[e("button",{type:"button",onClick:o[12]||(o[12]=(...t)=>i.closeModal&&i.closeModal(...t)),class:"px-6 py-2 text-lime-700 hover:text-lime-600 font-semibold"}," Batal "),e("button",{type:"button",onClick:o[13]||(o[13]=(...t)=>i.addAddress&&i.addAddress(...t)),class:"px-6 py-2 rounded-full bg-lime-600 hover:bg-lime-700 font-medium text-white"}," Simpan ")])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show","onAfterLeave"])}const Te=k(S,[["render",ve]]);export{Te as default};
