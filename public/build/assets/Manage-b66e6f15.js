import{S as le}from"./Status-ab3ae8a9.js";import ne from"./Create-2c70b079.js";import{u as z,x as O,y as R,z as x,A as Q,B as $,C as oe,D as ie,E as _,H,G as de,F as U,I as Y,J as Z,K,N as X,L as q,M as ue,o as c,c as v,b as s,_ as ee,r as E,e as k,t as h,h as te,j,a as T,d as ce,f as M,n as N}from"./app-a0f2337f.js";import{A as fe}from"./AdminLayout-b0f32dd7.js";import{S as ve}from"./Admin-2861d82e.js";import{O as D,o as S,T as G,m as me,P as B,N as I}from"./use-outside-click-eb249b35.js";import{b as pe}from"./use-resolve-button-type-3af1593a.js";import{a as be,f as ae}from"./dialog-462821c4.js";import"./XMarkIcon-3bb62fe2.js";let he=z({props:{onFocus:{type:Function,required:!0}},setup(e){let u=O(!0);return()=>u.value?R(ae,{as:"button",type:"button",features:be.Focusable,onFocus(a){a.preventDefault();let m,n=50;function r(){var d;if(n--<=0){m&&cancelAnimationFrame(m);return}if((d=e.onFocus)!=null&&d.call(e)){u.value=!1,cancelAnimationFrame(m);return}m=requestAnimationFrame(r)}m=requestAnimationFrame(r)}}):null}});var _e=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(_e||{}),xe=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(xe||{});let se=Symbol("TabsContext");function V(e){let u=K(se,null);if(u===null){let a=new Error(`<${e} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,V),a}return u}let J=Symbol("TabsSSRContext"),ge=z({name:"TabGroup",emits:{change:e=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:u,attrs:a,emit:m}){var n;let r=O((n=e.selectedIndex)!=null?n:e.defaultIndex),d=O([]),i=O([]),g=x(()=>e.selectedIndex!==null),p=x(()=>g.value?e.selectedIndex:r.value);function b(l){var t;let o=D(f.tabs.value,_),y=D(f.panels.value,_),A=o.filter(w=>{var P;return!((P=_(w))!=null&&P.hasAttribute("disabled"))});if(l<0||l>o.length-1){let w=q(r.value===null?0:Math.sign(l-r.value),{[-1]:()=>1,0:()=>q(Math.sign(l),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),P=q(w,{0:()=>o.indexOf(A[0]),1:()=>o.indexOf(A[A.length-1])});P!==-1&&(r.value=P),f.tabs.value=o,f.panels.value=y}else{let w=o.slice(0,l),P=[...o.slice(l),...w].find(re=>A.includes(re));if(!P)return;let W=(t=o.indexOf(P))!=null?t:f.selectedIndex.value;W===-1&&(W=f.selectedIndex.value),r.value=W,f.tabs.value=o,f.panels.value=y}}let f={selectedIndex:x(()=>{var l,t;return(t=(l=r.value)!=null?l:e.defaultIndex)!=null?t:null}),orientation:x(()=>e.vertical?"vertical":"horizontal"),activation:x(()=>e.manual?"manual":"auto"),tabs:d,panels:i,setSelectedIndex(l){p.value!==l&&m("change",l),g.value||b(l)},registerTab(l){var t;if(d.value.includes(l))return;let o=d.value[r.value];d.value.push(l),d.value=D(d.value,_);let y=(t=d.value.indexOf(o))!=null?t:r.value;y!==-1&&(r.value=y)},unregisterTab(l){let t=d.value.indexOf(l);t!==-1&&d.value.splice(t,1)},registerPanel(l){i.value.includes(l)||(i.value.push(l),i.value=D(i.value,_))},unregisterPanel(l){let t=i.value.indexOf(l);t!==-1&&i.value.splice(t,1)}};Q(se,f);let L=O({tabs:[],panels:[]}),C=O(!1);$(()=>{C.value=!0}),Q(J,x(()=>C.value?null:L.value));let F=x(()=>e.selectedIndex);return $(()=>{oe([F],()=>{var l;return b((l=e.selectedIndex)!=null?l:e.defaultIndex)},{immediate:!0})}),ie(()=>{if(!g.value||p.value==null||f.tabs.value.length<=0)return;let l=D(f.tabs.value,_);l.some((t,o)=>_(f.tabs.value[o])!==_(t))&&f.setSelectedIndex(l.findIndex(t=>_(t)===_(f.tabs.value[p.value])))}),()=>{let l={selectedIndex:r.value};return R(U,[d.value.length<=0&&R(he,{onFocus:()=>{for(let t of d.value){let o=_(t);if((o==null?void 0:o.tabIndex)===0)return o.focus(),!0}return!1}}),H({theirProps:{...a,...de(e,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:l,slots:u,attrs:a,name:"TabGroup"})])}}}),ye=z({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:u,slots:a}){let m=V("TabList");return()=>{let n={selectedIndex:m.selectedIndex.value},r={role:"tablist","aria-orientation":m.orientation.value};return H({ourProps:r,theirProps:e,slot:n,attrs:u,slots:a,name:"TabList"})}}}),ke=z({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-tabs-tab-${Y()}`}},setup(e,{attrs:u,slots:a,expose:m}){let n=V("Tab"),r=O(null);m({el:r,$el:r}),$(()=>n.registerTab(r)),Z(()=>n.unregisterTab(r));let d=K(J),i=x(()=>{if(d.value){let t=d.value.tabs.indexOf(e.id);return t===-1?d.value.tabs.push(e.id)-1:t}return-1}),g=x(()=>{let t=n.tabs.value.indexOf(r);return t===-1?i.value:t}),p=x(()=>g.value===n.selectedIndex.value);function b(t){var o;let y=t();if(y===G.Success&&n.activation.value==="auto"){let A=(o=me(r))==null?void 0:o.activeElement,w=n.tabs.value.findIndex(P=>_(P)===A);w!==-1&&n.setSelectedIndex(w)}return y}function f(t){let o=n.tabs.value.map(y=>_(y)).filter(Boolean);if(t.key===S.Space||t.key===S.Enter){t.preventDefault(),t.stopPropagation(),n.setSelectedIndex(g.value);return}switch(t.key){case S.Home:case S.PageUp:return t.preventDefault(),t.stopPropagation(),b(()=>B(o,I.First));case S.End:case S.PageDown:return t.preventDefault(),t.stopPropagation(),b(()=>B(o,I.Last))}if(b(()=>q(n.orientation.value,{vertical(){return t.key===S.ArrowUp?B(o,I.Previous|I.WrapAround):t.key===S.ArrowDown?B(o,I.Next|I.WrapAround):G.Error},horizontal(){return t.key===S.ArrowLeft?B(o,I.Previous|I.WrapAround):t.key===S.ArrowRight?B(o,I.Next|I.WrapAround):G.Error}}))===G.Success)return t.preventDefault()}let L=O(!1);function C(){var t;L.value||(L.value=!0,!e.disabled&&((t=_(r))==null||t.focus({preventScroll:!0}),n.setSelectedIndex(g.value),ue(()=>{L.value=!1})))}function F(t){t.preventDefault()}let l=pe(x(()=>({as:e.as,type:u.type})),r);return()=>{var t;let o={selected:p.value},{id:y,...A}=e,w={ref:r,onKeydown:f,onMousedown:F,onClick:C,id:y,role:"tab",type:l.value,"aria-controls":(t=_(n.panels.value[g.value]))==null?void 0:t.id,"aria-selected":p.value,tabIndex:p.value?0:-1,disabled:e.disabled?!0:void 0};return H({ourProps:w,theirProps:A,slot:o,attrs:u,slots:a,name:"Tab"})}}}),we=z({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:u,attrs:a}){let m=V("TabPanels");return()=>{let n={selectedIndex:m.selectedIndex.value};return H({theirProps:e,ourProps:{},slot:n,attrs:a,slots:u,name:"TabPanels"})}}}),Pe=z({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-tabs-panel-${Y()}`},tabIndex:{type:Number,default:0}},setup(e,{attrs:u,slots:a,expose:m}){let n=V("TabPanel"),r=O(null);m({el:r,$el:r}),$(()=>n.registerPanel(r)),Z(()=>n.unregisterPanel(r));let d=K(J),i=x(()=>{if(d.value){let b=d.value.panels.indexOf(e.id);return b===-1?d.value.panels.push(e.id)-1:b}return-1}),g=x(()=>{let b=n.panels.value.indexOf(r);return b===-1?i.value:b}),p=x(()=>g.value===n.selectedIndex.value);return()=>{var b;let f={selected:p.value},{id:L,tabIndex:C,...F}=e,l={ref:r,id:L,role:"tabpanel","aria-labelledby":(b=_(n.tabs.value[g.value]))==null?void 0:b.id,tabIndex:p.value?C:-1};return!p.value&&e.unmount&&!e.static?R(ae,{as:"span",...l}):H({ourProps:l,theirProps:F,slot:f,attrs:u,slots:a,features:X.Static|X.RenderStrategy,visible:p.value,name:"TabPanel"})}}});function Se(e,u){return c(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0110.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0l.229 2.523a1.125 1.125 0 01-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0021 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 00-1.913-.247M6.34 18H5.25A2.25 2.25 0 013 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 011.913-.247m10.5 0a48.536 48.536 0 00-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5zm-3 0h.008v.008H15V10.5z"})])}const Ie={data(){return{isOpen:!1}},components:{Status:le,PrinterIcon:Se,Shipping:ne},methods:{accept(){this.$inertia.post(route("shipping.store"),{order_id:this.order.id},{preserveState:!1})},cancel(){window.confirm("Apakah Anda yakin ingin membatalkan pesanan ini")&&this.$inertia.put(route("orders.cancel",this.order))},receipt(){this.$inertia.get(route("shipping.receipt",this.order.shipping))},openModal(){this.isOpen=!0},closeModal(){this.isOpen=!1}},props:{order:Object}},Te={class:"bg-white rounded shadow"},Oe={class:"flex gap-2 text-xs border-b px-4 py-3"},Ae={class:"font-semibold"},Le={key:0},Ce={key:1},Be={key:2},Ee={key:3},je=s("div",{class:"text-zinc-200"},"/",-1),ze={class:"font-semibold text-lime-600"},Fe=s("div",{class:"text-zinc-200"},"/",-1),Me=s("div",{class:"text-zinc-200"},"/",-1),Ne=s("div",{class:"text-zinc-200"},"/",-1),De=s("div",null,"Midtrans",-1),He={class:"p-4 space-y-4"},Ve={class:"flex divide-x text-xs"},Ge={class:"w-1/2 space-y-4 pe-4"},qe={class:"flex gap-4"},Re=["src"],$e={class:"flex-1 text-xs space-y-0.5"},Ue={class:"font-semibold"},We={class:"text-zinc-600"},Ke={class:"flex-grow grid grid-cols-2 ps-4"},Je=s("div",{class:"font-semibold mb-1"},"Alamat",-1),Qe={class:"text-zinc-600"},Xe={class:"space-y-4"},Ye=s("div",{class:"font-semibold mb-1"},"Kurir",-1),Ze={class:"flex items-center gap-1"},et=s("div",{class:"text-zinc-600"},"J&T - Reguler",-1),tt={key:0,class:"font-bold bg-red-600/10 px-1 text-red-600 text-[10px] rounded"},at={key:0},st=s("div",{class:"font-semibold mb-1"},"No. Resi",-1),rt={class:"text-zinc-600"},lt={class:"flex items-center justify-between bg-gray-100 px-3 py-2 rounded"},nt={class:"text-xs"},ot=s("span",{class:"font-bold"},"Total Harga",-1),it={class:"font-bold"},dt={class:"flex items-center justify-between"},ut={key:0,class:"bg-amber-100 text-amber-600 px-4 py-2 rounded text-sm font-semibold"},ct={class:"flex-grow flex justify-end gap-3 font-medium text-sm"},ft={key:0,type:"button",class:"px-4 py-2 border rounded"},vt=s("div",null,"Cetak Label",-1);function mt(e,u,a,m,n,r){const d=E("PrinterIcon");return c(),v("div",Te,[s("div",Oe,[s("div",Ae,[[2,3].includes(a.order.status)?(c(),v("div",Le,"Perlu Dikirim")):k("",!0),a.order.status==4?(c(),v("div",Ce,"Dikirim")):k("",!0),a.order.status==5?(c(),v("div",Be,"Selesai")):k("",!0),a.order.status==6?(c(),v("div",Ee,"Pembatalan")):k("",!0)]),je,s("div",ze,h(a.order.code),1),Fe,s("div",null,h(a.order.user.first_name)+" "+h(a.order.user.last_name),1),Me,s("div",null,h(a.order.formatted_created_at),1),Ne,De]),s("div",He,[s("div",Ve,[s("div",Ge,[(c(!0),v(U,null,te(a.order.order_details,i=>(c(),v("div",qe,[s("div",null,[s("img",{src:"/storage/products/"+i.code+"/"+i.photo,class:"w-14 border bg-white rounded p-1"},null,8,Re)]),s("div",$e,[s("div",Ue,h(i.name),1),s("div",We,h(i.quantity)+"x "+h(i.color)+", "+h(i.size),1),s("div",null," Rp"+h(i.price.toLocaleString("id-ID")),1)])]))),256))]),s("div",Ke,[s("div",null,[Je,s("div",Qe,[s("div",null,h(a.order.receiver_name)+" ("+h(a.order.receiver_phone)+")",1),s("div",null,h(a.order.receiver_address),1),s("div",null,h(a.order.district.name)+", "+h(a.order.city.name),1)])]),s("div",Xe,[s("div",null,[Ye,s("div",Ze,[et,a.order.cod?(c(),v("div",tt," COD ")):k("",!0)])]),a.order.shipping?(c(),v("div",at,[st,s("div",rt,h(a.order.shipping.awb_no),1)])):k("",!0)])])]),s("div",lt,[s("div",nt,[ot,j(" ("+h(a.order.total_quantity)+" Barang) ",1)]),s("div",it,"Rp"+h(a.order.total_payment.toLocaleString("id-ID")),1)]),s("div",dt,[a.order.status==3?(c(),v("div",ut," Menunggu pick up ")):k("",!0),s("div",ct,[a.order.status==4?(c(),v("button",ft," Lacak Pesanan ")):k("",!0),[2,3].includes(a.order.status)?(c(),v("button",{key:1,type:"button",onClick:u[0]||(u[0]=(...i)=>r.cancel&&r.cancel(...i)),class:"px-4 py-2 border rounded"}," Batalkan Pesanan ")):k("",!0),a.order.status==3?(c(),v("button",{key:2,type:"button",onClick:u[1]||(u[1]=(...i)=>r.receipt&&r.receipt(...i)),class:"flex items-center gap-2 px-4 py-2 border rounded"},[T(d,{class:"w-4 h-4"}),vt])):k("",!0),a.order.status==2?(c(),v("button",{key:3,type:"button",onClick:u[2]||(u[2]=(...i)=>r.openModal&&r.openModal(...i)),class:"px-4 py-2 bg-lime-600 hover:bg-lime-700 text-white rounded"}," Atur Pengiriman ")):k("",!0)])])])])}const pt=ee(Ie,[["render",mt]]),bt={components:{TabGroup:ge,TabList:ye,Tab:ke,TabPanels:we,TabPanel:Pe,OrderCard:pt,Sidebar:ve},props:{orders:Object,flash:Object},layout:fe},ht={class:"w-[85%] ms-auto px-10 pt-6 pb-12"},_t=s("div",{class:"text-xl font-semibold mb-6"},"Daftar Pesanan",-1),xt={class:"flex text-sm font-medium bg-white shadow rounded overflow-hidden px-4 mb-6"},gt={key:0,class:"space-y-4"},yt={key:1,class:"text-center py-16 text-2xl text-slate-500 font-semibold"};function kt(e,u,a,m,n,r){const d=E("Head"),i=E("Notif"),g=E("Sidebar"),p=E("Link"),b=E("OrderCard");return c(),v(U,null,[T(d,{title:"Daftar Pesanan"}),a.flash.error||a.flash.success?(c(),ce(i,{key:0,flash:a.flash},null,8,["flash"])):k("",!0),T(g),s("div",ht,[_t,s("div",xt,[T(p,{href:e.route("orders.manage"),class:N(["relative p-4",e.$page.url==="/orders/manage"?"text-lime-600 after:bottom-0 after:left-0 after:border-b-[3px] after:absolute after:w-full after:border-lime-600":"text-gray-500"])},{default:M(()=>[j(" Semua ")]),_:1},8,["href","class"]),T(p,{href:e.route("orders.manage",{status:"perlu_dikirim"}),class:N(["relative p-4",e.$page.url==="/orders/manage?status=perlu_dikirim"?"text-lime-600 after:bottom-0 after:left-0 after:border-b-[3px] after:absolute after:w-full after:border-lime-600":"text-gray-500"])},{default:M(()=>[j(" Perlu Dikirim ")]),_:1},8,["href","class"]),T(p,{href:e.route("orders.manage",{status:"dikirim"}),class:N(["relative p-4",e.$page.url==="/orders/manage?status=dikirim"?"text-lime-600 after:bottom-0 after:left-0 after:border-b-[3px] after:absolute after:w-full after:border-lime-600":"text-gray-500"])},{default:M(()=>[j(" Dikirim ")]),_:1},8,["href","class"]),T(p,{href:e.route("orders.manage",{status:"selesai"}),class:N(["relative p-4",e.$page.url==="/orders/manage?status=selesai"?"text-lime-600 after:bottom-0 after:left-0 after:border-b-[3px] after:absolute after:w-full after:border-lime-600":"text-gray-500"])},{default:M(()=>[j(" Selesai ")]),_:1},8,["href","class"]),T(p,{href:e.route("orders.manage",{status:"pembatalan"}),class:N(["relative p-4",e.$page.url==="/orders/manage?status=pembatalan"?"text-lime-600 after:bottom-0 after:left-0 after:border-b-[3px] after:absolute after:w-full after:border-lime-600":"text-gray-500"])},{default:M(()=>[j(" Pembatalan ")]),_:1},8,["href","class"])]),a.orders.length>0?(c(),v("div",gt,[(c(!0),v(U,null,te(a.orders,f=>(c(),v("div",null,[T(b,{order:f},null,8,["order"])]))),256))])):(c(),v("div",yt," Pesanan tidak ditemukan "))])],64)}const Bt=ee(bt,[["render",kt]]);export{Bt as default};
