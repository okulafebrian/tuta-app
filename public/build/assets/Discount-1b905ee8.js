import{A as y}from"./AdminLayout-f4eea498.js";import{_ as g,T as v,r as _,o as c,c as a,a as p,d as w,e as k,b as e,F as f,h as D,t as l,w as m,v as A,q as S}from"./app-e00fb960.js";import{S as N}from"./Admin-7af04ed3.js";const V={props:{products:Object,flash:Object},components:{Sidebar:N},methods:{discountPrice(r,s){this.form.discount_price[s]=r-r*(this.form.discount[s]/100)},updateDiscount(){this.form.put(route("products.update-discount"))}},setup(r){const s=v({product_id:[],discount_price:[],discount:[],is_discount:[]});return r.products.forEach((o,t)=>{s.product_id[t]=o.id,s.discount_price[t]=o.discount_price??o.price,s.discount[t]=o.discount??0,s.is_discount[t]=!!o.is_discount}),{form:s}},layout:y},C={class:"w-[85%] ms-auto px-10 pt-6 pb-12"},I=e("div",{class:"text-xl font-semibold mb-6"},"Atur Diskon",-1),L={class:"bg-white shadow-sm rounded-sm mb-6"},O={class:"w-full"},R=e("thead",{class:"border-b-2 border-gray-100"},[e("tr",{class:"text-left text-xs font-semibold"},[e("td",{class:"py-4 px-6"},"DETAIL PRODUK"),e("td",{class:"py-4 px-6"},"HARGA"),e("td",{class:"py-4 px-6"},"HARGA DISKON"),e("td",{class:"py-4 px-6"},"DISKON"),e("td",{class:"py-4 px-6"},"AKTIF")])],-1),U={class:"text-sm divide-y"},B={class:"py-4 px-6"},H={class:"flex gap-4"},K=["src"],T={class:"font-medium line-clamp-2"},j={class:"py-4 px-6"},E={class:"py-4 px-6"},F={key:0},P={key:1},G={class:"py-4 px-6"},M={class:"flex items-center border border-gray-200 bg-gray-100 rounded-md overflow-hidden w-28"},q=e("div",{class:"text-sm text-gray-500 font-semibold px-3"},"%",-1),z=["onUpdate:modelValue","onChange"],J={class:"py-4 px-6"},Q={class:"relative inline-flex items-center cursor-pointer"},W=["onUpdate:modelValue","disabled"],X=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600 peer-disabled:cursor-not-allowed"},null,-1),Y={class:"flex justify-end"};function Z(r,s,o,t,$,u){const h=_("Head"),b=_("Notif"),x=_("Sidebar");return c(),a(f,null,[p(h,{title:"Atur Diskon"}),o.flash.error||o.flash.success?(c(),w(b,{key:0,flash:o.flash},null,8,["flash"])):k("",!0),p(x),e("div",C,[I,e("div",L,[e("table",O,[R,e("tbody",U,[(c(!0),a(f,null,D(o.products,(n,d)=>(c(),a("tr",null,[e("td",B,[e("div",H,[e("img",{src:n.main_photos[0].url,class:"border rounded p-1 w-16 h-16"},null,8,K),e("div",null,[e("div",T,l(n.name),1),e("div",null,l(n.category.name),1)])])]),e("td",j,"Rp"+l(n.price.toLocaleString("id-ID")),1),e("td",E,[t.form.discount[d]>0?(c(),a("div",F,"Rp"+l(t.form.discount_price[d].toLocaleString("id-ID")),1)):(c(),a("div",P,"-"))]),e("td",G,[e("div",M,[q,m(e("input",{type:"number",class:"text-sm border-0 focus:ring-0 w-full","onUpdate:modelValue":i=>t.form.discount[d]=i,onChange:i=>u.discountPrice(n.price,d)},null,40,z),[[A,t.form.discount[d]]])])]),e("td",J,[e("label",Q,[m(e("input",{type:"checkbox",class:"sr-only peer","onUpdate:modelValue":i=>t.form.is_discount[d]=i,disabled:!t.form.discount[d]},null,8,W),[[S,t.form.is_discount[d]]]),X])])]))),256))])])]),e("div",Y,[e("button",{type:"button",onClick:s[0]||(s[0]=(...n)=>u.updateDiscount&&u.updateDiscount(...n)),class:"bg-lime-600 hover:bg-lime-700 text-white py-2 px-10 rounded text-sm font-medium"}," Simpan ")])])],64)}const oe=g(V,[["render",Z]]);export{oe as default};
