import{A as f}from"./AdminLayout-f4eea498.js";import{_ as y,T as v,r as a,o as l,c as i,a as m,d as g,e as w,b as t,w as k,v as C,F as p,h as M,t as r,j as O}from"./app-e00fb960.js";import P from"./ProductList-b14f2ef4.js";import{r as T}from"./TrashIcon-bdaf90fb.js";import"./XMarkIcon-e47da2f3.js";import"./dialog-ed01fe28.js";import"./use-outside-click-2a9cf22d.js";const A={data(){return{isOpen:!1}},props:{collection:Object,products:Object},components:{ProductList:P,TrashIcon:T},methods:{openModal(){this.isOpen=!0},closeModal(d){this.isOpen=!1,d&&(this.form.products=d)},updateCollection(){this.form.put(route("collections.update",this.collection))},removeProduct(d){this.form.products.splice(d,1)}},computed:{validateForm(){return this.form.name!==""&&this.form.products.length>0}},setup(d){return{form:v({name:d.collection.name,products:d.collection.products})}},layout:f},E={class:"w-3/4 mx-auto pt-6 pb-12"},N={class:"flex items-center justify-between mb-6"},L=t("div",{class:"text-xl font-semibold"},"Edit Etalase",-1),j=["disabled"],I={class:"bg-white p-8 rounded-md shadow mb-4"},V=t("div",{class:"text-sm font-medium mb-2"},"Nama Etalase",-1),B={key:0,class:"bg-white p-8 rounded-md shadow"},D={class:"flex justify-between items-center mb-4"},F=t("div",{class:"text-lg font-semibold"},"Produk Terpilih",-1),H={class:"w-full"},R=t("thead",{class:"border-y"},[t("tr",{class:"text-left text-xs font-semibold"},[t("td",{class:"py-4 px-6"},"NAMA PRODUK"),t("td",{class:"py-4 px-6"},"HARGA"),t("td",{class:"py-4 px-6"},"PENJUALAN"),t("td",{class:"py-4 ps-6"})])],-1),S={class:"text-sm divide-y divide-gray-100"},U={class:"py-4 px-6"},G={class:"flex items-center gap-3"},J=["src"],K={class:"font-semibold line-clamp-2"},q={class:"text-xs"},z={class:"py-4 px-6"},Q=t("td",{class:"py-4 px-6"}," 2 ",-1),W={class:"py-4 px-6"},X=["onClick"],Y={key:1,class:"bg-white py-12 rounded-md shadow text-center"},Z=t("div",{class:"mb-6"},[t("div",{class:"text-lg font-semibold"},"Isi dulu etalasenya"),t("div",{class:"text-sm"},"Pilih produk yang sesuai dengan nama etalase")],-1);function $(d,s,u,n,c,o){const _=a("Head"),h=a("ProductList"),b=a("TrashIcon");return l(),i(p,null,[m(_,{title:"Edit Etalase"}),c.isOpen?(l(),g(h,{key:0,isOpen:c.isOpen,onCloseModal:o.closeModal,products:u.products,selected:n.form.products},null,8,["isOpen","onCloseModal","products","selected"])):w("",!0),t("div",E,[t("div",N,[L,t("div",null,[t("button",{type:"button",onClick:s[0]||(s[0]=(...e)=>o.updateCollection&&o.updateCollection(...e)),disabled:!o.validateForm,class:"px-8 py-2 rounded bg-lime-600 hover:bg-lime-700 disabled:bg-slate-300 disabled:text-slate-500 text-sm font-semibold text-white"}," Selesai ",8,j)])]),t("div",I,[V,k(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>n.form.name=e),type:"text",class:"border-gray-300 rounded-lg w-full text-sm",placeholder:"Tulis nama etalase disini"},null,512),[[C,n.form.name]])]),n.form.products.length>0?(l(),i("div",B,[t("div",D,[F,t("div",null,[t("button",{type:"button",onClick:s[2]||(s[2]=(...e)=>o.openModal&&o.openModal(...e)),class:"border border-lime-600 rounded-md px-4 py-2 font-semibold text-sm text-lime-600"}," Tambah Produk ")])]),t("div",null,[t("table",H,[R,t("tbody",S,[(l(!0),i(p,null,M(n.form.products,(e,x)=>(l(),i("tr",null,[t("td",U,[t("div",G,[t("img",{src:e.main_photos[0].url,class:"border rounded p-1 w-16 h-16"},null,8,J),t("div",null,[t("div",K,r(e.name),1),t("div",q,r(e.category.name),1)])])]),t("td",z," Rp"+r(e.price.toLocaleString("id-ID")),1),Q,t("td",W,[t("button",{type:"button",onClick:tt=>o.removeProduct(x),class:"flex items-center gap-1 font-semibold text-xs hover:text-lime-600 p-2 ms-auto"},[m(b,{class:"w-4 h-4 stroke-2 text-gray-500"}),O(" Hapus ")],8,X)])]))),256))])])])])):(l(),i("div",Y,[Z,t("button",{type:"button",onClick:s[3]||(s[3]=(...e)=>o.openModal&&o.openModal(...e)),class:"bg-lime-600 hover:bg-lime-700 text-white font-semibold px-10 py-2 rounded"}," Tambah Produk ")]))])],64)}const at=y(A,[["render",$]]);export{at as default};
